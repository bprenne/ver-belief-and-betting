\listfiles
\documentclass[12pt]{article}

%%
%% page setup and comments:
%% - comment out the \def\comments{1} if you do not want comments
%% - leave the \def\comments{1} uncommented if you do want comments
%%

%\def\comments{1}

%% leave the next few lines below alone

\ifx\comments\undefined
  % then do normal margins and ignore comments
  \usepackage[letterpaper,margin=1in,includefoot]{geometry}
  \newcommand{\XXXcomment}[1]{}
\else
  % then do big marginpar margins and insert comments
  \usepackage[a4paper,margin=.5in,right=2.5in,marginpar=2in,includefoot]{geometry}
  \newcommand{\XXXcomment}[1]{\marginpar{\color{blue}{\footnotesize #1}}}
\fi

%%
%% packages and package-specific settings
%%

\usepackage{latexsym,amssymb,amsmath,amscd,amsthm,alltt,stmaryrd,graphicx,mathrsfs}

\usepackage{times}

\usepackage{float}
\floatstyle{boxed}
\restylefloat{figure}
\restylefloat{table}

%%
%% tikz stuff, including custom environment
%%

\usepackage{tikz}
\usetikzlibrary{trees,arrows,positioning,patterns,automata,shapes,decorations,decorations.pathmorphing}

\newcommand{\mystretch}{\renewcommand{\arraystretch}{1.5}}
\newcommand{\normalstretch}{\renewcommand{\arraystretch}{1}}

\newlength{\mysep}
\setlength{\mysep}{2.7cm}
\newlength{\mysepCloser}
\setlength{\mysepCloser}{2cm}
\newlength{\mysepFarther}
\setlength{\mysepFarther}{3cm}
\newlength{\mysepFarthest}
\setlength{\mysepFarthest}{4cm}

\newlength{\myMinsize}
\setlength{\myMinsize}{3em}
\newlength{\myBigger}
\setlength{\myBigger}{4em}
\newlength{\myNodeDistance}
\setlength{\myNodeDistance}{3cm}

\newenvironment{mytikz}[1][0em]{
\begin{tikzpicture}[>=latex,auto,node distance=\mysep,
  baseline={([yshift=#1]current bounding box.east)}]

  \normalstretch{}

  \tikzstyle{w}=[draw,circle,thick,minimum size=\myMinsize]

  \tikzstyle{e}=[draw,minimum size=\myMinsize,node distance=\myNodeDistance]
  
  \tikzstyle{every edge}=[draw,thick,font=\footnotesize]
  
  \tikzstyle{every label}=[font=\footnotesize]
  
  \tikzstyle{ev}=[anchor=west,node distance=\myNodeDistance]

  \tikzstyle{bigger}=[minimum size=\myBigger]

  \tikzstyle{closer}=[node distance=\mysepCloser]  

  \tikzstyle{farther}=[node distance=\mysepFarther]

  \tikzstyle{farthest}=[node distance=\mysepFarthest]

  \tikzstyle{l}=[node distance=\myNodeDistance]
}{\mystretch{}\end{tikzpicture}}

%%
%% theorem environments
%%

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{example}[theorem]{Example}
\newtheorem{question}[theorem]{Question}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{remark}[theorem]{Remark}

%%
%% custom commands
%%

\newcommand{\Nat}{\mathbb{N}}  % natural numbers
\newcommand{\Rat}{\mathbb{Q}}  % rational numbers
\newcommand{\Ree}{\mathbb{R}}  % real numbers
\newcommand{\Int}{\mathbb{Z}}  % integers

\newcommand{\pow}{{\cal P}}    % powerset

\newcommand{\M}{{\cal M}}      % caligraphic model M
\newcommand{\N}{{\cal N}}      % caligraphic model N

\newcommand{\Prop}{{\bf P}}    % propositional letters

\newcommand{\Lang}{{\cal L}}   % language

\newcommand{\conv}{\check{\ }} % dual modality

\newcommand{\KB}{{\mathsf{KB}}}                        % base theory
\newcommand{\KBlt}{{\mathsf{KB}^{\mathsf{<.5}}}}       % theory for c<.5
\newcommand{\KBeq}{{\mathsf{KB}^{\mathsf{0.5}}}}       % theory for c=.5
\newcommand{\KBeqm}{{\mathsf{KB}^{\mathsf{0.5}}_{-}}}  % theory for c=.5 without (kbm)
\newcommand{\KBgt}{{\mathsf{KB}^{\mathsf{>.5}}}}       % theory for c>.5
\newcommand{\KBgeq}{{\mathsf{KB}^{\mathsf{\geq.5}}}}   % theory for c>=.5
\newcommand{\KBc}{{\mathsf{KB}^{\mathsf{>}c}}}         % theory for c

\newcommand{\KBmyc}[1]{{\mathsf{KB}^{\mathsf{>{#1}}}}} % theory for specific c = #1


\newcommand{\Ceq}{{\mathcal{C}^{\mathsf{0.5}}}}    % for c=0.5

\newcommand{\Rel}[1]{\stackrel{#1}{\Longrightarrow}}         % #1 over \Longrightarrow

\newcommand{\sem}[1]{\llbracket{#1}\rrbracket}               % [[ #1 ]]

\newcommand{\modelsn}{\models_{\mathsf{n}}}                  % \models_n
\newcommand{\semn}[1]{\llbracket{#1}\rrbracket_{\mathsf{n}}} % [[ #1 ]]_n

\newcommand{\modelsp}{\models_{\mathsf{p}}}                  % \models_p
\newcommand{\semp}[1]{\llbracket{#1}\rrbracket_{\mathsf{p}}} % [[ #1 ]]_p

%%
%% author, title, &c
%%

\newcommand{\ourtitle}{Belief as Willingness to Bet}

\newcommand{\jan}{Jan van Eijck}

\newcommand{\janAffiliation}{CWI \&\ ILLC, Amsterdam}

\newcommand{\bryan}{Bryan Renne}

\newcommand{\bryanAffiliation}{ILLC, University of Amsterdam}

\newcommand{\bryanFunding}{Funded by an Innovational Research
  Incentives Scheme Veni grant from the Netherlands Organisation for
  Scientific Research (NWO).}

\title{\ourtitle{}} 

\author{\jan{}\\{}{\small\janAffiliation{}} \and
  \bryan{}\footnote{\bryanFunding{}}\\{}{\small\bryanAffiliation{}}}

\usepackage[pdftex,
            bookmarks=true,
            bookmarksnumbered=true,
            pdfborder={0 0 0},
            plainpages=false,
            pdfpagelabels]{hyperref}

\hypersetup{ 
  pdfauthor={\jan{}, \bryan{}}, 
  pdftitle={\ourtitle{}}
}

%%
%% beginning of paper
%%

\begin{document}

\maketitle

\begin{abstract}
  We investigate modal logics of knowledge and belief in which
  knowledge is probabilistic certainty and belief is probability
  exceeding a fixed rational threshold $c\geq\frac 12$.  Taking $c$ as
  an agent's betting threshold leads to the motto ``belief is
  willingness to bet.''  The logic $\KBeq$ for $c=\frac 12$ has
  $\mathsf{S5}$ knowledge modalities along with sub-normal belief
  modalities that extend the minimal modal logic
  $\mathsf{EMND45}+\lnot B_a\bot$ by way of certain schemes relating
  knowledge and belief.  A key property first articulated in the
  present form by Lenzen \cite{Lenzen2003:kbasp,Lenzen1980:gwuw}
  originates from a result in measure theory due to Kraft, Pratt, and
  Seidenberg \cite{KraPraSei59:AMS} as presented and extended by Scott
  \cite{Sco64:JMP}.  Our approach here is a slight variation and
  extensive modernization of Lenzen's for $c=\frac 12$, but ours also
  permits for the possibility of thresholds exceeding $\frac 12$.
  Along with new results, we present Lenzen's proof of probability
  completeness for $\KBeq$. We also show that $\KBeq$ is sound and
  complete with respect to a new epistemic neighborhood semantics that
  bears an exact relationship with the probabilistic semantics for
  $c=\frac 12$.  This yields a certain link between probabilistic and
  modal neighborhood semantics that may be of use in future
  cross-discipline work.
\end{abstract}

\section{Introduction}

A number of authors have studied connections between modal logic and
probability; see, e.g., \cite{Halpern2003:rau,Herzig2003:mpbaa} and
citations therein.  Our interest here is in identifying the modal
logic of probabilistic certainty and belief exceeding a fixed
$c\in[\frac 12,1)\cap\Rat$ and then relating this logic to a more
familiar modal semantics.

Lenzen \cite{Lenzen2003:kbasp,Lenzen1980:gwuw} is to our knowledge the
first to consider this study for $c=\frac 12$. Actually, his
perspective on the relation between knowledge and belief was slightly
different from ours.  He identified ``the agent is convinced of $A$''
with $P(A)=1$ and ``$B$ is believed'' by $P(B)>\frac 12$. Conviction
(German: \emph{\"{U}berzeuging}) does not imply truth.  One of
Lenzen's key contributions was the identification of a modal scheme
that ensures the existence of a probability function realizing these
notions of conviction and belief.  Lenzen's scheme is closely related
to a scheme used by Segerberg \cite{Segerberg1971:qpiams} for a
similar purpose in a modal logic of qualitative probabilistic
comparisons (with non-nested binary modal operators for ``$A$ is at
least as probable as $B$'').  Lenzen's and Segerberg's logics are
different because the link with probability is different.  We
therefore refer to the ``Lenzen scheme,'' even though Lenzen himself
credits Segerberg.  Either way, both researchers' schemes exploit the
Kraft-Pratt-Seidenberg theorem from measure theory
\cite{KraPraSei59:AMS} or related results due to Scott
\cite{Sco64:JMP}.

In more recent related work, Herzig \cite{Herzig2003:mpbaa} considers
a logic of belief and action in which belief in $A$ is identified with
$P(A)>P(\lnot A)$. This is equivalent to Lenzen's notion.  Another
more recent work by Kyberg and Teng \cite{KyburgTeng2012:tlorkr}
investigates a notion of ``acceptance'' in which $A$ is accepted
whenever the probability of $\lnot A$ is at most some small
$\epsilon$.  This gives rise to the minimal modal logic
$\mathsf{EMN}$, which is different than the logic under investigation
in the present paper.

We herein consider belief \`{a} la Lenzen not only for the case
$c=\frac 12$ but also for the case $c>\frac 12$.  As it turns out, the
logics for these cases are different, though our focus will be on the
logic for $c=\frac 12$.  Probability completeness for $c>\frac 12$ is
still open.  Thresholds $c<\frac 12$ permit simultaneous belief of $A$
and $\lnot A$ along with other unusual properties; these
``low-threshold'' beliefs are also left for future work (though we say
a bit more on this later).

In Section~\ref{Section:EPL} we identify a Kripke-style semantics for
probability logic similar to
\cite{EijckSchwarzentruber2014:epls,Halpern2003:rau} (and no doubt to
many others).  We require that all worlds are probabalistically
possible but not necessarily epistemically so, and we provide some
examples of how this semantics works.  In particular, we demonstrate
that our requirement is not problematic.

In Section~\ref{Section:CB} we define our modal notions of certain
knowledge and belief exceeding threshold $c$, explain the motto
``belief is willingness to bet,'' and prove a number of properties of
certain knowledge and this ``betting'' belief.  For instance, we show
that knowledge is $\mathsf{S5}$ and belief is not normal.  We show a
number of other threshold-specific properties of betting belief as
well.  In particular, we see that the belief modality extends the
minimal modal logic $\mathsf{EMND45}+\lnot B_a\bot$ by way of certain
schemes relating knowledge and belief.\footnote{The definition of this
  logic is provided later. See \cite[Ch.~8]{Chellas:ml} for further
  details on naming of some minimal modal logics.}

We then introduce a formal modal language in Section~\ref{Section:ENM}
and relate this language to the probabilistic notions of belief and
knowledge.  We also introduce a neighborhood semantics for this
language with a new epistemic twist.  The relationship between the
neighborhood and probabilistic semantics is provided in
Section~\ref{Section:BeliefBet}.  There we prove that for each
threshold $c$, there is a translation from epistemic probability
models to epistemic neighborhood models such that certain knowledge,
betting belief, and Boolean truth are all preserved.  We also show
that for $c=\frac 12$, certain desirable properties are preserved.

In Section~\ref{Section:Calculi}, we introduce the modal theory
$\KBeq$ of knowledge and belief.  We prove this is theory sound and
complete with respect to a certain class of our epistemic neighborhood
models.  To complete this proof, we extend Segerberg's
\cite{Segerberg1971:qpiams} ingenious concept of ``logical
finiteness'' of neighborhood models in a way that guarantees
definability of certain sets within a finite countermodel.  Using our
notation and concepts, we also present Lentzen's proof
\cite{Lenzen1980:gwuw} that $\KBeq$ determines belief with threshold
$c=\frac 12$.  Given the link between our new epistemic neighborhood
semantics and probability, our results may be viewed as a contribution
to the study connecting two schools of rational decision making: the
probabilist (e.g., \cite{koerner2008naive}) and the AI-based (e.g.,
\cite{KyburgTeng2012:tlorkr}).


\section{Epistemic Probability Models}
\label{Section:EPL} 

\begin{definition}
  \label{definition:epistemic-probability-model}
  We fix a finite nonempty set $A$ of ``agents'' and a set $\Prop$ of
  propositional letters.  An \emph{epistemic probability model} 
  is a structure
  \[
  \M=(W,R,V,P)
  \]
  satisfying the following.
  \begin{itemize} 
  \item $(W,R,V)$ is a finite multi-agent $\mathsf{S5}$ Kripke model:
    \begin{itemize}
    \item $W$ is a finite nonempty set of ``worlds.''  An \emph{event}
      is a set $X\subseteq W$ of worlds.  When convenient, we identify a world
      $w$ with the singleton event $\{w\}$.
      
    \item $R:A\to\pow(W\times W)$ assigns an equivalence relation $R_a$
      on $W$ to each agent $a\in A$.  We let
      \[
      [w]_a:=\{v\in W\mid wR_av\}
      \]
      denote the $a$-equivalence class of world $w$.  This is the
      set of worlds that agent $a$ cannot distinguish from $w$.

    \item $V:W\to\pow(\Prop)$ assigns a set $V(w)$ of propositional
      letters to each world $w\in W$.
    \end{itemize}

  \item $P:A \to W \to[0,1]$ assigns to each agent $a\in A$
    and world $w\in W$ a real number $P_a(w)\in[0,1]$ subject
    to the following conditions:
    \begin{itemize}
    \item \emph{Unit total\/}: $\sum_{w\in W}P_a(w)=1$ for each $a\in A$.

    This ensures that $P_a$ is a probability function (on worlds).

    \item \emph{Full support\/}: $P_a(w)>0$ for each $(a,w)\in A\times W$.

    This ensures that each world is probabilistically possible.
    \end{itemize}
    We extend $P_a$
    to the set of events: for each event $X\subseteq W$, set
    \[
    P_a(X):=\sum_{w\in X}P_a(w)\enspace.
    \]
  \end{itemize}
  A \emph{pointed epistemic probability model} is a pair $(\M,w)$
  consisting of an epistemic probability model $\M=(W,R,V,P)$ and
  world $w\in W$ called the \emph{point}.
\end{definition}

Agent $a$'s uncertainty as to which world is the actual world
is given by the equivalence relation $R_a$. 
If $w$ is the actual world, then the probability agent
$a$ assigns to an event $X$ at $w$ is given by
\begin{equation}
  P_{a,w}(X) := \frac{P_a(X\cap[w]_a)}{P_a([w]_a)}\enspace.
  \label{eq:probability}
\end{equation}
In words: the probability agent $a$ assigns to event $X$ at
world $w$ is the probability she assigns to $X$ conditional
on her knowledge at $w$.  This
reading makes sense because the right side of \eqref{eq:probability}
is just $P_a(X|[w]_a)$, the probability of $X$ conditional on
$[w]_a$.  Note that $P_{a,w}(X)$ is always well-defined:
we have $w\in[w]_a$ by the reflexivity of
$R_a$ and hence
$0<P_a(w)\leq P_a([w]_a)$ by full support, so the denominator on the right side of 
\eqref{eq:probability} is nonzero.

\begin{example}[Horse Racing] 
  \label{ExampleHorseRacing}
  Three horses compete in a race.  For each $i\in\{1,2,3\}$, horse
  $h_i$ wins the race in world $w_i$.  Neither agent can distinguish
  between these three possibilities. Agent $a$ assigns the horses
  winning chances of $3{:}2{:}1$, while $b$ assigns chances
  $1{:}2{:}1$.  We represent this situation in the form of an
  epistemic probability model $\M_{\ref{ExampleHorseRacing}}$
  pictured as follows:
  \begin{center}
    \begin{mytikz}
      %%
      %% nodes
      %%
      \node[w,label={below:$w_1$}] (w1) {$h_1$};

      \node[w,right of=w1,label={below:$w_2$}] (w2) {$h_2$};

      \node[w,right of=w2,label={below:$w_3$}] (w3) {$h_3$};

      %%
      %% edges
      %%
      \path (w1) edge[<->] node{$a,b$} (w2);

      \path (w2) edge[<->] node{$a,b$} (w3);
    \end{mytikz}
    \begin{eqnarray*}
      P_a &=& \textstyle\{w_1:\frac 36, w_2:\frac 26, w_3:\frac 16\} \\
      P_b &=& \textstyle\{w_1:\frac 14, w_2:\frac 24, w_3:\frac 14\}
    \end{eqnarray*}

    $\M_{\ref{ExampleHorseRacing}}$
  \end{center}
  When we picture epistemic probability models, the arrows of each
  individual agent are to be closed under reflexivity and
  transitivity.  With this convention in place, it is not difficult to
  verify the following.
  \begin{enumerate}
  \item $P_{a,w_1} (\{w_1,w_3\}) = \frac 23$.

    At $w_1$, agent $a$ assigns probability $\frac 23$ to the event
    that the winner is horse $1$ or horse $3$.

  \item $P_{b,w_1} (\{w_1,w_3\}) = \frac 12$.

    At $w_1$, agent $b$ assigns probability $\frac 12$ to the event
    that the winner is horse $1$ or horse $3$.
  \end{enumerate}
\end{example} 

The property of full support says
 that each world is probabilistially possible.
Therefore, in order to represent a situation in which
agent $a$ is certain that horse $3$ can never win, we simply make the
$h_3$-worlds inaccessible via $R_a$.

\begin{example}[Certainty of impossibility]
  \label{ExampleHorseRacing2}
  We modify Example~\ref{ExampleHorseRacing} by eliminating the
  $a$-arrow between worlds $w_2$ and $w_3$.
  \begin{center}
    \begin{mytikz}
      %%
      %% nodes
      %%
      \node[w,label={below:$w_1$}] (w1) {$h_1$};

      \node[w,right of=w1,label={below:$w_2$}] (w2) {$h_2$};

      \node[w,right of=w2,label={below:$w_3$}] (w3) {$h_3$};

      %%
      %% edges
      %%
      \path (w1) edge[<->] node{$a,b$} (w2);

      \path (w2) edge[<->] node{$b$} (w3);
    \end{mytikz}
    \begin{eqnarray*}
      P_a &=& \textstyle\{w_1:\frac 36, w_2:\frac 26, w_3:\frac 16\} \\
      P_b &=& \textstyle\{w_1:\frac 14, w_2:\frac 24, w_3:\frac 14\}
    \end{eqnarray*}

    $\M_{\ref{ExampleHorseRacing2}}$
  \end{center}
  At world $w_1$ in this picture, there is no $a$-accessible world at
  which horse $3$ wins.  Therefore, at world $w_1$, agent $a$ assigns
  probability $0$ to the event that horse $3$ wins:
  $P_{a,w_1}(w_3)=0$.
\end{example}

We define a language $\Lang$ for reasoning about epistemic probability
models.

\begin{definition}
  The language $\Lang$ of \emph{multi-agent probability logic} is
  defined by the following grammar.
  \begin{eqnarray*}
    \phi & ::= & 
    \top \mid p \mid \neg\phi \mid \phi\land\phi \mid
    t_a\geq 0
    \\
    t_a   & ::= & q \mid q \cdot P_a(\phi) \mid t_a+t_a
    \\
    &&
    \text{\footnotesize 
      $p\in\Prop$,
      $q\in\Rat$,
      $a\in A$
    }
  \end{eqnarray*}
  We adopt the usual abbreviations for Boolean connectives.  We define
  the relational symbols $\leq$, $>$, $<$, and $=$ in terms of $\geq$
  as usual.  For example, $t=s$ abbreviates $(t\geq s)\land(s\geq t)$.
  We also use the obvious abbreviations for writing general linear
  inequalities.  For example, $P_a(p)\leq 1-q$ abbreviates
  $1+(-q)+(-1)\cdot P_a(p)\geq 0$.
\end{definition}

\begin{definition} 
  Let $\M=(W,R,V,P)$ be an epistemic probability model.  We define
  a binary truth relation $\modelsp$ between a pointed epistemic
  probability model $(\M,w)$ and $\Lang$-formulas as follows.
  \[
  \renewcommand{\arraystretch}{1.3}
  \begin{array}{lcl}
    \M,w\modelsp\top 
    \\
    \M,w\modelsp p & \text{iff} & 
    p \in V(w) 
    \\
    \M,w\modelsp\neg\phi & \text{iff} &
    \M,w\not\modelsp\phi
    \\
    \M,w\modelsp\phi\land\psi & \text{iff} &
    \M,w\modelsp\phi \text{ and } \M,w\modelsp\psi
    \\
    \M,w\modelsp t_a\geq 0 & \text{iff} &
    \sem{t_a}_w\geq 0
  \end{array}
  \]
  \begin{eqnarray*}
    \semp{\phi} & := &
    \{ u \in W\mid \M,u\modelsp\phi \}
    \\
    P_{a,w}(X) & := & 
    \displaystyle\frac{P_a(X\cap[w]_a)}{P_a([w]_a)}
    \\
    \sem{q}_w & := & q
    \\
    \sem{q\cdot P_a(\phi)}_w & := & 
    q\cdot P_{a,w}(\semp{\phi}) 
    \\
    \sem{t_a+t_a'}_w & := &
    \sem{t_a}_w + \sem{t_a'}_w
  \end{eqnarray*}
  Validity of $\phi\in\Lang$ in epistemic probability model $\M$,
  written $\M\modelsp\phi$, means that $\M,w\modelsp\phi$ for each
  world $w\in W$.  Validity of $\phi\in\Lang$, written $\modelsp\phi$,
  means that $\M\modelsp\phi$ for each epistemic probability model
  $\M$.
\end{definition} 

\section{Certainty and Belief} 
\label{Section:CB} 

\cite{Eijck2013:lap} formulates and proves a ``certainty theorem''
relating certainty in epistemic probability models to knowledge in a
version of these models in which the probabilistic information is
removed.  This motivates the following definition.

\begin{definition}[Knowledge as certainty]
  We adopt the following abbreviations.
  \begin{itemize}
  \item $K_a\phi$ abbreviates $P_a(\phi)=1$. 

    We read $K_a\phi$ as ``agent $a$ knows $\phi$.''

  \item $\check K_a\phi$ abbreviates $\lnot K_a\lnot\phi$.

    We read $\check K_a\phi$ as ``$\phi$ is consistent with agent
    $a$'s knowledge.''
  \end{itemize}
\end{definition}

\begin{proposition}[Properties of knowledge as certainty;
  \cite{Eijck2013:lap}]
  \label{prop:knowledge}
  $K_a$ is an $\mathsf{S5}$ modal operator:
  \begin{enumerate}
  \item $\modelsp \phi$ for each $\Lang$-instance $\phi$ of a scheme
    of classical propositional logic.

    Axioms of classical propositional logic are valid.

  \item $\modelsp K_a(\phi\to\psi)\to(K_a\phi\to K_a\psi)$
    
    Knowledge is closed under logical consequence.

  \item $\modelsp K_a\phi\to \phi$

    Knowledge is veridical.
    
  \item $\modelsp K_a\phi\to K_aK_a\phi$

    Knowledge is positive introspective:  it is known what is known.
    
  \item $\modelsp \lnot K_a\phi\to K_a\lnot K_a\phi$

    Knowledge is negative introspective: it is known what is not
    known.
    
  \item $\modelsp\phi$ implies $\modelsp K_a\phi$

    All validities are known.

  \item $\modelsp\phi\to\psi$ and $\modelsp\phi$ together imply
    $\modelsp\psi$.

    Validities are closed under the rule of Modus Ponens.
  \end{enumerate}
\end{proposition}

We define belief in a proposition $\phi$ as willingness to take bets
on $\phi$ with the odds being better than some rational number
$c\in[\frac 12,1)\cap\Rat$.  This leads to a number of degrees of
belief, one for each threshold $c$.\footnote{Belief based on threshold
  $c=0$ or $c=1$ is trivial to express in terms of negation, $K_a$,
  and falsehood $\bot$.  So we do not consider these thresholds here.
  Beliefs based on low-thresholds $c\in(0,\frac 12)\cap\Rat$ have
  unintuitive and unusual features.  First, low-threshold beliefs
  unintuitively permit inconsistency of the kind that an agent can
  believe both $\phi$ and $\lnot\phi$ while avoiding inconsistency of
  the kind that the agent can believe a single contradictory formula
  such as $\bot$.  Second, the dual of a low-threshold belief implies
  the belief at that threshold (i.e., $\check B_a^c\phi\to
  B_a^c\phi$), which is unusual if we assign the usual ``consistency''
  reading to dual operators (i.e., ``$\phi$ is consistent with the
  agent's beliefs implies $\phi$ is believed'' is unusual).  Since
  low-threshold $c\in(0,\frac12)\cap\Rat$ beliefs have these
  unintuitive and unusual features, we leave their study for future
  work.}

\begin{definition}[Belief as willingness to bet]
  \label{definition:belief}
  Fix a threshold $c\in[\frac 12,1)\cap\Rat$.
  \begin{itemize}
  \item $B_a^c\phi$ abbreviates $P_a(\phi)>c$.

    We read $B_a^c\phi$ as ``agent $a$ believes $\phi$ with threshold
    $c$.''

  \item $\check B_a^c\phi$ abbreviates $\lnot B_a^c\lnot\phi$.

    We read $\check B_a\phi$ as ``$\phi$ is consistent with agent
    $a$'s threshold-$c$ beliefs.''
  \end{itemize}
  If the threshold $c$ is omitted (either in the notations $B_a^c\phi$
  and $\check B_a^c\phi$ or in the informal readings of these
  notations), it is assumed that $c=\frac 12$.
\end{definition}

This notion of belief comes from subjective probability
\cite{Jeffrey2004:sptrt}. 
In particular, fix a threshold
$c=p/q\in[\frac 12,1)\cap\Rat$.  Suppose that agent $a$ believes $\phi$ with
threshold $c=p/q$; that is, $P_a(\phi)>p/q$.  If the agent wagers $p$
dollars for a chance to win $q-p$ dollars on a bet that $\phi$ is
true, then she expects to win
\[
(q-p)\cdot P_a(\phi) - p\cdot(1-P_a(\phi)) = q\cdot P_a(\phi) - p
\]
dollars on this bet.  This is a positive number of dollars if and only
if $q\cdot P_a(\phi)>p$.  But notice that the latter is guaranteed by
the assumption $P_a(\phi)>p/q$.  Therefore, it is rational for agent
$a$ to take this bet.  Said in the parlance of the subjective
probability literature, ``If agent $a$ stakes $p$ to win $q-p$ in a
bet on $\phi$, then her winning expectation is positive in case she
believes $\phi$ with threshold $c$.''  Or in a short motto: ``Belief
is willingness to bet.''

The following lemma provides a useful characterization of the dual
$\check B^c_a\phi$.

\begin{lemma}
  \label{lemma:dual}
  Let $\M=(W,R,V,P)$ be an epistemic probability model.
  \begin{enumerate}
  \item \label{item:dual} $\M,w\modelsp\check B_a^c\phi$ iff
    $\M,w\modelsp P_a(\phi)\geq 1-c$.

  \item \label{item:dual-half} $\M,w\modelsp\check B_a^{\frac 12}\phi$ iff
    $\M,w\modelsp P_a(\phi)\geq \frac 12$.

 % \item \label{item:dual-low} For $c\in(0,\frac 12)\cap\Rat$:
 %   \[
 %   \M,w\modelsp\check B_a^c\phi \text{ implies } \M,w\modelsp
 %   P_a(\phi)>c\enspace\text{.}
 %   \]
  \end{enumerate}
\end{lemma}
\begin{proof}
  For Item~\ref{item:dual}, we have the following:
  \[
  \renewcommand{\arraystretch}{1.3}
  \begin{array}{lll}
    &
    \M,w\modelsp\check B^c_a\phi
    \\
    \text{iff} &
    \M,w\modelsp\lnot B^c_a\lnot\phi 
    & \text{by definition of $\check B^c_a\phi$}
    \\
    \text{iff} &
    P_{a,w}(\semp{\lnot\phi})\not>c
    & \text{by definition of $B^c_a\phi$ and $\modelsp$}
    \\
    \text{iff} &
    P_{a,w}(\semp{\lnot\phi})\leq c
    & \text{since $\Rat$ is totally ordered}
    \\
    \text{iff} &
    P_{a,w}(\semp{\phi})\geq 1-c
    & \text{since $\semp{\lnot\phi}=W-\semp{\phi}$}
  \end{array}
  \]
  For Item~\ref{item:dual-half}, we observe that $1-\frac 12=\frac 12$
  and apply Item~\ref{item:dual}. 
  % For Item~\ref{item:dual-low}, we
  % observe that $c\in(0,\frac 12)$ implies $1-c>c$, so the result
  % follows by Item~\ref{item:dual}. 
\end{proof}

%Note that Item~\ref{item:dual-low} of Lemma~\ref{lemma:dual} implies that for
%low-threshold belief $c$, $\check B_a^c \phi$ implies $B_a^c \phi$.

We now consider a simple example.

\begin{example}[Non-normality]
  \label{example:non-normality}
  In this single-agent variation, all horses have equal chances of winning and
  agent $a$ knows this.
  \begin{center}
    \begin{mytikz}
      %%
      %% nodes
      %%
      \node[w,label={below:$w_1$}] (w1) {$h_1$};

      \node[w,right of=w1,label={below:$w_2$}] (w2) {$h_2$};

      \node[w,right of=w2,label={below:$w_3$}] (w3) {$h_3$};

      %%
      %% edges
      %%
      \path (w1) edge[<->] node{$a$} (w2);

      \path (w2) edge[<->] node{$a$} (w3);
    \end{mytikz}

    $P_a=\{w_1:\frac 13, w_2:\frac 13, w_3:\frac 13$\}

    \bigskip
    $\M_{\ref{example:non-normality}}$
  \end{center}
  Recalling that an omitted threshold $c$ is implicitly
  assumed to be $\frac 12$,
  the following are readily verified.
  \begin{enumerate}
  \item $\M_{\ref{example:non-normality}}\modelsp B_a(h_1\lor h_2\lor
    h_3)$.

    Agent $a$ believes the winning horse is among the three.

    (Agent $a$ is willing to bet that the winning horse is among the three.)

  \item $\M_{\ref{example:non-normality}}\modelsp B_a(h_1\lor h_2)\land
    B_a(h_1\lor h_3)\land B_a(h_2\lor h_3)$.

    Agent $a$ believes the winning horse is among any two.

    (Agent $a$ is willing to bet that the winning horse is among any two.)

  \item \label{item:conjuncts} $\M_{\ref{example:non-normality}}\modelsp
    B_a\lnot h_1\land B_a\lnot h_2\land B_a\lnot h_3$.

    Agent $a$ believes the winning horse is not any particular one.

    (Agent $a$ is willing to bet that the winning horse is not any
    particular one.)

  \item \label{item:conjunction}
    $\M_{\ref{example:non-normality}}\modelsp \lnot B_a(\lnot h_1\land \lnot
    h_2)$.

    Agent $a$ does not believe that both horses $1$ and $2$ do not
    win.

    (Agent $a$ is not willing to bet that both horses $1$ and $2$ do
    not win.)
  \end{enumerate}
\end{example} 

It follows from Items~\ref{item:conjuncts} and \ref{item:conjunction}
of Example~\ref{example:non-normality} that the present notion of
belief is not closed under conjunction.  This is discussed as part of
the literature on the ``Lottery Paradox''
\cite{Kyburg1961:patlorb}.\footnote{The usual formulation of the
  Lottery Paradox: it is paradoxical for an agent to believe that one
  of $n$ lottery tickets will be a winner (i.e., ``some ticket is a
  winner'') without believing of any particular ticket that it is the
  winner (i.e., ``for each $i\in\{1,\dots,n\}$, ticket $i$ is not a
  winner'').}  However, there is no reason in general that it is
paradoxical to assign a conjunction $\phi \land \psi$ a lower
probability than either of its conjunctions.  Indeed, if $\phi$ and
$\psi$ are independent, then the probability of their conjunction
equals the product of their probabilities, so unless one of $\phi$ or
$\psi$ is certain or impossible, the probability of $\phi \land \psi$
will be less than the probability of $\phi$ and less than the
probability of $\psi$.

We set aside philosophical arguments for or against closure of belief
under conjunction and instead turn our attention to the study of the
properties of the present notion of belief.  One of these is a
complicated but useful property due to Lenzen \cite{Lenzen2003:kbasp}
that makes use of notation due to Segerberg
\cite{Segerberg1971:qpiams}.

\begin{definition}[Segerberg notation; \cite{Segerberg1971:qpiams}]
  \label{definition:segerberg-notation}
  Fix a positive integer $m\in\Int^+$ and formulas
  $\phi_1,\dots,\phi_m$ and $\psi_1,\dots,\psi_m$.  The expression
  \begin{equation}
    (\phi_1,\dots,\phi_m\mathbb{I}_a\psi_1,\dots,\psi_m)
    \label{eq:segerberg}
  \end{equation}
  abbreviates the formula
  \[
  K_a(C_0\lor C_1\lor C_2 \lor \cdots \lor C_m)\enspace,
  \]
  where $C_i$ is the disjunction of all conjunctions
  \[
  d_1\phi_1\land\cdots\land d_m\phi_m \land
  e_1\psi_1\land\cdots\land e_m\psi_m
  \]
  satisfying the property that \emph{exactly} $i$ of the $d_k$'s are the
  empty string, \emph{at least} $i$ of the $e_k$'s are the empty string, and
  the rest of the $d_k$'s and $e_k$'s are the negation sign $\lnot$.
  We may write $(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m$ as an
  abbreviation for \eqref{eq:segerberg}.  Finally, let
  \[
  (\phi_i\mathbb{E}_a\psi_i)_{i=1}^m
  \quad\text{abbreviate}\quad
  (\phi_i\mathbb{I}_a\psi_i)_{i=1}^m\land(\psi_i\mathbb{I}_a\phi_i)_{i=1}^m
  \enspace.
  \]
  We also allow the use of $\mathbb{E}_a$ in a notation similar to 
  \eqref{eq:segerberg}.
\end{definition}

The formula $(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m$ says that agent
$a$ knows that the number of true $\phi_i$'s is less than or equal to the number of
true $\psi_i$'s.  Put another way,
$(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m$ is true if and only if every
one of $a$'s epistemically accessible worlds satisfies at least as many
$\psi_i$'s as $\phi_i$'s.  The formula $(\phi_i\mathbb{E}_a\psi_i)_{i=1}^m$ says
that every
one of $a$'s epistemically accessible worlds satisfies exactly as many
$\psi_i$'s as $\phi_i$'s.

\begin{definition}[Lenzen scheme; \cite{Lenzen2003:kbasp}]
  \label{definition:lenzen-schemes}
  We define the following scheme:
  \[
  \begin{array}{cl}
    \textstyle [
    %(\phi_1,\dots,\phi_m\mathbb{I}_a\psi_1,\dots,\psi_m)
    (\phi_i\mathbb{I}_a\psi_i)_{i=1}^m
    \land B_a^{c} \phi_1 \land \bigwedge_{i=2}^m \check B_a^{c} \phi_i] \to
    \bigvee_{i=1}^m B_a^{c}\psi_i
    &
    \text{(Len)}
  \end{array}
  \]
  If $m=1$, then $\bigwedge_{i=2}^m \check B_a^c\phi_i$ is $\top$.
  Note that (Len)
  is meant to encompass the indicated scheme for each positive integer
  $m\in\Int^+$.
\end{definition}

(Len) says that if agent $a$ knows the number of true $\phi_i$'s is
less than or equal to the number of true $\psi_i$'s, agent $a$ believes $\phi_1$
with threshold $c$, and the remaining $\phi_i$'s are each consistent
with agent $a$'s threshold-$c$ beliefs, then agent $a$ believes one of
the $\psi_i$'s with threshold $c$.  Adapting a proof of Segerberg
\cite{Segerberg1971:qpiams}, we show that belief with threshold
$c=\frac12$ satisfies (Len).

We report this result along with a number of other properties
in the following proposition.

\begin{proposition}[Properties of belief as willingness to bet]
  \label{prop:belief}
  For $c\in[\frac 12,1)\cap\Rat$, we have:
  \begin{enumerate}
  \item \label{item:B-not-normal} $\not\modelsp
    B_a^c(\phi\to\psi)\to(B_a^c\phi\to B_a^c\psi)$.

    Belief is not closed under logical consequence.

    (So $B_a^c$ is not a normal modal operator.)

  \item \label{item:B-not-T} $\not\modelsp B_a^c\phi\to\phi$.

    Belief is not veridical.

  \item \label{item:B-C} $\modelsp K_a\phi\to B_a^c\phi$.

    What is known is believed.

  \item \label{item:B-B} $\modelsp\lnot B^c_a\bot$.

    The propositional constant $\bot$ for falsehood is not believed.

  \item \label{item:B-N} $\modelsp B_a^c\top$.

    The propositional constant $\top$ for truth is believed.

  \item \label{item:B-Ap} $\modelsp B_a^c\phi\to K_aB_a^c\phi$.

    What is believed is known to be believed.

  \item \label{item:B-An} $\modelsp \lnot B_a^c\phi\to K_a\lnot
    B_a^c\phi$.

    What is not believed is known to be not believed.

  \item \label{item:B-M} $\modelsp K_a(\phi\to\psi)\to(B_a^c\phi\to B_a^c\psi)$.

    Belief is closed under known logical consequence.

  \item \label{item:B-D} $\modelsp B_a^c\phi\to \check B_a^c\phi$.

    Belief is consistent: belief in $\phi$ implies
    disbelief in $\lnot\phi$.

  \item \label{item:B-SC} $\modelsp
    \check{B}_a^{\frac 12} \phi \land \check{K}_a(\neg \phi \land \psi)
    \rightarrow B_a^{\frac 12} (\phi \lor \psi)$.
    
    For mid-threshold belief, if $\phi$ is consistent
    with agent $a$'s beliefs and $\lnot\phi\land\psi$ is
    consistent with agent $a$'s knowledge, then agent $a$ believes
    $\phi\lor\psi$.  

  \item \label{item:B-Len}
    $
    \textstyle \modelsp
    [(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m \land
    B_a^{\frac 12}\phi_1 \land \bigwedge_{i=2}^m \check B_a^{\frac 12}\phi_i] \to
    \bigvee_{i=1}^m B_a^{\frac 12}\psi_i
    $.

    Mid-threshold belief satisfies (Len).
  \end{enumerate}
\end{proposition}
\begin{proof}
  We consider each item in turn.
  \begin{enumerate}
  \item Given $c\in(0,1)\cap\Rat$ and integers $p$ and $q$ such that
    $p/q=c$, we define $\M$ as the modification of the model
    $\M_{\ref{example:non-normality}}$ of
    Example~\ref{example:non-normality} obtained by changing
    $P_a$ as follows:
    \[
    P_a := \left\{ w_1:\frac{q-p}{2q},\; w_2:\frac pq,\; w_3:\frac{q-p}{2q}
    \right\}\enspace.
    \]
    Since $0<p<q$, it follows that
    \begin{eqnarray*}
      P_{a,w_1}(\semp{\lnot h_1\to h_2}) &=&
      P_{a,w_1}(\{w_1,w_2\}) =
      \frac{q+p}{2q}>\frac {2p}{2q}=\frac pq,
      \\
      P_{a,w_1}(\semp{\lnot h_1}) &=&
      P_{a,w_1}(\{w_2,w_3\}) = \frac{q+p}{2q}>\frac {2p}{2q}=\frac pq,\text{ and}
      \\
      P_{a,w_1}(\semp{h_2})&=& 
      P_{a,w_1}(w_2) = \frac pq\enspace.
    \end{eqnarray*}
    Therefore, we have
    \[
    \M,w_1\modelsp B^c_a(\lnot h_1\to h_2)\land B^c_a\lnot h_1\land
    \lnot B^c_ah_2\enspace.
    \]
    
  \item For $\M$ defined in the proof of Item~\ref{item:B-not-normal},
    we have
    \[
    \M,w_1\modelsp h_1\land B_a^c\lnot h_1\enspace.
    \]
    
  \item $\M,w\modelsp K_a\phi$ implies $P_{a,w}(\semp{\phi})=1 > c$.
    Hence $\M,w\modelsp B_a^c\phi$.

  \item $P_{a,w}(\semp{\bot})=0<c$.  Hence
    $\M,w\models\lnot B^c_a\bot$.

  \item $P_{a,w}(\semp{\top})=1>c$. Hence
    $\M,w\modelsp B_a^c\top$.

  \item $\M,w\modelsp B_a^c\phi$ implies $P_{a,w}(\semp{\phi})>c$.  To show that
    $\M,w\modelsp K_aB_a^c\phi$, we must argue that
    \[
    P_{a,w}(\semp{B_a^c\phi})= 
    \frac{P_a(\semp{B_a^c\phi}\cap[w]_a)}{P_a([w]_a)}
    =1\enspace.
    \]
    To show this, we prove that
    $\semp{B_a^c\phi}\cap[w]_a=[w]_a$.
    So choose $u\in[w]_a$.  Since $R_a$ is an equivalence relation,
    we have
    \begin{equation*}
      P_{a,u}(\semp{\phi})=
      \frac{P_a(\semp{\phi}\cap[u]_a)}{P_a([u]_a)}=
      \frac{P_a(\semp{\phi}\cap[w]_a)}{P_a([w]_a)}=
      P_{a,w}(\semp{\phi})>c\enspace,
    \end{equation*}
    which implies $u\in\semp{B_a^c\phi}$.  The result follows.
    
  \item The argument is similar to that for Item~\ref{item:B-Ap},
    though we note that $\M,w\modelsp\lnot B_a^c\phi$ implies
    $P_{a,w}(\semp{\phi})\leq c$.
    
  \item We assume that $\M,w\modelsp K_a(\phi\to\psi)$ and
    $\M,w\modelsp B_a^c\phi$.  This means that
    $P_{a,w}(\semp{\phi\to\psi})=1$ and
    $P_{a,w}(\semp{\phi})>c$.  But then it follows that
    $P_{a,w}(\semp{\psi})>c$ as well, which is what it means to
    have $\M,w\modelsp B_a^c\psi$.

  % \item By Lemma~\ref{lemma:dual}.

  \item Assume $c\in[\frac 12,1)\cap\Rat$ and $\M,w\modelsp B_a^c\phi$.  Then $P_{a,w}(\semp{\phi})>c
    \geq 1 - c$. So $P_{a,w}(\semp{\phi})\geq 1-c$.  The result
    therefore follows by Lemma~\ref{lemma:dual}.

  \item Assume $c\in(0,\frac 12]\cap\Rat$ and $\M,w\modelsp\check B^c_a\phi$.  By
    Lemma~\ref{lemma:dual}, it follows that
    $P_{a,w}(\semp{\phi})\geq c$.  Let us assume further that
    $\M,w\modelsp\check K_a(\lnot\phi\land\psi)$.  This means
    \[
    1\neq P_{a,w}(\semp{\lnot(\lnot\phi\land\psi)})=
    \frac{P_a(\semp{\lnot(\lnot\phi\land\psi)}\cap[w]_a)}{P_a([w]_a)}
    \enspace,
    \]
    which implies there exists $v\in
    \semp{\lnot\phi\land\psi}\cap[w]_a$.  Since $P_a(v)>0$ by full support, it follows that
    \begin{eqnarray*}
    P_{a,w}(\semp{\phi\lor\psi}) &=&
    \frac{ P_a(\semp{\phi\lor\psi}\cap [w]_a) }{ P_a([w]_a) }
    \\
    &=&
    \frac{ P_a(\semp{\phi}\cap [w]_a) }{ P_a([w]_a) } +
    \frac{ P_a(\semp{\lnot\phi\land\psi}\cap [w]_a) }{ P_a([w]_a) }
    \\
    &\geq&
    \frac{ P_a(\semp{\phi}\cap[w]_a) }{P_a([w]_a)} + \frac{ P_a(v) }{P_a([w]_a)}
    \\
    &=&
    P_{a,w}(\semp{\phi})+\frac{ P_a(v) }{P_a([w]_a)}
    \\
    &\geq&
    c + \frac{ P_a(v) }{P_a([w]_a)}
    > c\enspace.
    \end{eqnarray*}
    That is,
    $\M,w\modelsp B_a^c(\phi\lor\psi)$.

  \item We assume $c\in(0,\frac 12]\cap\Rat$ plus the following:
    \begin{eqnarray}
      &&
      \M,w\modelsp (\phi_i\mathbb{I}_a\psi_i)_{i=1}^m
      \label{eq:S}
      \\
      &&
      \M,w\modelsp B^c_a\phi_1
      \label{eq:Bphi1}
      \\
      &&
      \textstyle \M,w\modelsp \bigwedge_{i=2}^m\check B^c_a\phi_i
      \label{eq:checkB}
    \end{eqnarray}
    We recall the meaning of
    \eqref{eq:S}: for each $v\in[w]_a$, the number of
    $\phi_i$'s true at $v$ is less than or equal to the number of $\psi_k$'s true at $v$.
    It therefore follows from \eqref{eq:S} that
    \begin{equation}
      P_{a,w}(\semp{\phi_1})+\cdots+P_{a,w}(\semp{\phi_m})\leq
      P_{a,w}(\semp{\psi_1})+\cdots+P_{a,w}(\semp{\psi_m})\enspace.
      \label{eq:sum}
    \end{equation}
    Outlining an argument due to Segerberg 
    \cite[pp.~344--346]{Segerberg1971:qpiams},
    the reason for this is as follows: we think of each world $v\in[w]_a$ as being
    assigned a ``weight'' $P_{a,w}(v)$.  A member $P_{a,w}(\semp{\phi_i})$ of the
    sum on the left of \eqref{eq:sum} is just a total of the
    weight of every $v\in[w]_a$ that satisfies
    $\phi_i$; that is,
    \[
    P_{a,w}(\semp{\phi_i})=\sum\{P_{a,w}(v)\mid v\in\semp{\phi_i}\cap[w]_a\}\enspace.
    \]
    Assumption \eqref{eq:S} tells us that for each $v\in[w]_a$, the
    number of totals $P_{a,w}(\semp{\phi_i})$ on the left of
    \eqref{eq:sum} to which $v$ contributes its weight is less than or equal to the
    number of totals $P_{a,w}(\semp{\psi_k})$ on the right of
    \eqref{eq:sum} to which $v$ contributes its weight.  But then the
    sum of totals on the left must be less than or equal to the sum of totals on the
    right.  Hence \eqref{eq:sum} follows.

    Having established \eqref{eq:sum}, we now proceed further with the
    overall proof.  By \eqref{eq:Bphi1}, we have
    $P_{a,w}(\semp{\phi_1})>c$.  Applying \eqref{eq:checkB}
    and Lemma~\ref{lemma:dual}, we have $P_{a,w}(\phi_i)\geq
    c$ for each $i\in\{2,\dots,m\}$.  Hence
    \[
    P_{a,w}(\semp{\psi_1})+\cdots+P_{a,w}(\semp{\psi_m})\geq
    P_{a,w}(\semp{\phi_1})+\cdots+P_{a,w}(\semp{\phi_m})> mc\enspace.
    \]
    That is, the sum of the $P_{a,w}(\semp{\psi_k})$'s must exceed
    $mc$.  Since each member of this $m$-member sum is
    non-negative, it follows that at least one member must exceed
    $c$.  That is, there exists $j\in\{0,\dots,m\}$ such
    that $P_{a,w}(\semp{\psi_j})>c$.  Hence
    $\M,w\modelsp\bigvee_{j=1}^mB_a^c\psi_j$. \qedhere
  \end{enumerate}
\end{proof}

\section{Epistemic Neighborhood Models}
\label{Section:ENM}

The modal formulas $K_a\phi$ and $B_a^c\phi$ were taken as
abbreviations in the language $\Lang$ of multi-agent probability
logic.  We wish to consider a propositional modal language that has
knowledge and belief operators as primitives.

\begin{definition}
  The language $\Lang_\KB$ of \emph{multi-agent knowledge and belief}
  is defined by the following grammar.
  \begin{eqnarray*}
    \phi & ::= & 
    \top \mid p \mid \neg\phi \mid \phi\land\phi \mid
    K_a\phi \mid B_a\phi
    \\
    &&
    \text{\footnotesize 
      $p\in\Prop$,
      $a\in A$
    }
  \end{eqnarray*}
  We adopt the usual abbreviations for other Boolean connectives and
  define the dual operators $\check K_a:=\lnot K_a\lnot$ and $\check
  B_a:=\lnot B_a\lnot$.  Finally,
  the $\Lang_\KB$-formula
  \[
  (\phi_1,\dots,\phi_m\mathbb{I}_a\psi_1,\dots,\psi_m)
  \]
  and its abbreviation
  $(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m$
  are given
  as in Definition~\ref{definition:segerberg-notation} except that
  all formulas are taken from the language $\Lang_\KB$.
\end{definition}

Our goal will be to develop a possible worlds semantics for
$\Lang_\KB$ that links with the probabilistic setting by making the
following translation truth-preserving.

\begin{definition}[Translation]
  \label{definition:translation}
  For each $c\in[\frac 12,1)\cap\Rat$, we define a translation $c:
  \Lang_\KB \to \Lang$ as follows.
  \[
  \renewcommand{\arraystretch}{1.3}
  \begin{array}{ccl@{\qquad}l}
    \top^c & := & \top
    \\
    p^c & := & p 
    \\
    (\neg \phi)^c & := & \neg \phi^c 
    \\
    (\phi \land \psi)^c & := & \phi^c \land \psi^c 
    \\
    (K_a\phi)^c & := & P_a(\phi^c) = 1
    & (= K_a\phi^c \text{ in } \Lang)
    \\
    (B_a\phi)^c & := & \textstyle P_a(\phi^c) > c
    & (= B_a^c\phi^c \text{ in } \Lang)
  \end{array}
  \]
\end{definition} 

Since we have seen that the probabilistic belief operator $B_a^c$ is
not a normal modal operator (Proposition~\ref{prop:belief}\eqref{item:B-not-normal}), we opt
for a neighborhood semantics for $\Lang_\KB$ \cite[Ch.~7]{Chellas:ml}
with a new epistemic twist.

\begin{definition} 
  An \emph{epistemic neighborhood model} is a structure
  \[
  \M=(W,R,V,N)
  \]
  satisfying the following.
  \begin{itemize}
  \item $(W,R,V)$ is a finite multi-agent $\mathsf{S5}$ Kripke model
    (as in Definition~\ref{definition:epistemic-probability-model}).
    As before, we let 
    \[
    [w]_a:=\{v\in W\mid wR_av\}
    \]
    denote the $a$-equivalence class of world $w$.  This is the
    set of worlds $a$ cannot distinguish from $w$.

  \item $N : A\times W \to \pow(\pow(W))$ is a \emph{neighborhood
      function} that assigns to each agent $a\in A$ and world $w\in W$
    a collection $N_a(w)$ of sets of worlds---each such set called a
    \emph{neighborhood} of $w$---subject to the following conditions.
    \begin{description}
    \item[(kbc)] $\forall X \in N_a(w) : X \subseteq [w]_a$.

    \item[(kbf)] $\emptyset\notin N_a(w)$.
      
    \item[(n)] $[w]_a\in N_a(w)$.
      
    \item[(a)] $\forall v \in [w]_a : N_a(v) = N_a(w)$.

    \item[(kbm)] $\forall X \subseteq Y \subseteq [w]_a : 
      \text{ if } X \in N_a(w) \text{, then } Y \in N_a(w)$.
   \end{description}
  \end{itemize}
  A \emph{pointed epistemic neighborhood model} is a pair $(\M,w)$
  consisting of an epistemic neighborhood model $\M$ and a world $w$
  in $M$. 
\end{definition}

An epistemic neighborhood model is a variation of a neighborhood model that
includes an epistemic component $R_a$ for each agent $a$.
Intuitively, $[w]_a$ is the set of worlds agent $a$ knows to be
possible at $w$ and each $X\in N_a(w)$ represents a proposition that
the agent believes at $w$.  The condition that $R_a$ be an equivalence
relation ensures that knowledge is closed under logical consequence,
veridical (i.e., only true things can be known), positive
introspective (i.e., the agent knows what she knows), and negative
introspective (i.e., the agent knows what she does not know).

Property (kbc) ensures that the agent does not believe a proposition
$X\subseteq W$ that she knows to be false: if $X$ contains a world in
$w'\in(W-[w]_a)$ that the agent knows is not possible with respect to
the actual world $w$, then she knows that $X$ cannot be the case and
hence she does not believe $X$.  Property (kbf) ensures that no
logical falsehood is believed, while Property (n) ensures that every
logical truth is believed.  Property (a) ensures that $X$ is believed
if and only if it is known that $X$ is believed. Property (kbm) says
that belief is monotonic: if an agent believes $X$, then she believes
all propositions $Y\supseteq X$ that follow from $X$.

We now turn to the definition of truth for the language $\Lang_\KB$.

\begin{definition} 
  Let $\M = (W,R,V,N)$ be an epistemic neighborhood model.  We define
  a binary truth relation $\modelsn$ between a pointed epistemic
  neighborhood model $(\M,w)$ and $\Lang_\KB$-formulas and a function
  $\semn{\cdot}^\M:\Lang_\KB\to \pow(W)$ as follows.
  \begin{eqnarray*} 
    \semn{\phi}^\M & := & \{v\in W\mid \M,v\modelsn\phi\}
    \\
    \M, w \modelsn p & \text{ iff } & p \in V(w) 
    \\
    \M, w \modelsn \neg \phi & \text{ iff } & \M, w \not\modelsn \phi 
    \\
    \M, w \modelsn \phi\land\psi  & \text{ iff } 
    & \M, w \modelsn \phi \text{ and } \M, w \modelsn \psi
    \\
    \M, w \modelsn K_a \phi  & \text{ iff } & 
    [w]_a\subseteq\semn{\phi}^\M
    \\
    \M, w \modelsn B_a \phi  & \text{ iff } &
    [w]_a\cap \semn{\phi}^\M \in N_a(w)
  \end{eqnarray*}
  Validity of $\phi\in\Lang_\KB$ in an epistemic neighborhood model
  $\M$, written $\M\modelsn\phi$, means that $\M,w\modelsn\phi$ for
  each world $w\in W$.  Validity of $\phi\in\Lang_\KB$, written
  $\modelsn\phi$, means that $\M\modelsn\phi$ for each epistemic
  neighborhood model $\M$.  For a class $\mathcal{C}$ of epistemic
  neighborhood models, we write $\mathcal{C}\modelsn\phi$ to mean that
  $\M\modelsn\phi$ for each $\M\in\mathcal{C}$.
\end{definition}

Intuitively, $K_a\phi$ is true at $w$ iff $\phi$ holds at all worlds
epistemically possible with respect to $w$, and $B_a\phi$ holds at $w$
iff the epistemically possible $\phi$-worlds make up a neighborhood of
$w$.  Note that it follows from this definition that the dual for
belief $\check{B}_a \phi$ is true at $w$ iff
$[w]_a\cap\semn{\neg\phi}^\M\notin N_a(w)$.  The latter says that the
epistemically possible $\lnot\phi$-worlds do not make up a
neighborhood of $w$.

Here are a few additional properties of epistemic neighborhood models
that will arise later on.

\begin{definition}[Extra Properties]
  \label{definition:extra-properties}
  Let $\M=(W,R,V,N)$ be an epistemic neighborhood model.  
  For $m\in\Int^+$ and sets
  of worlds $X_1,\dots,X_m$ and $Y_1,\dots,Y_m$,
  we write
  \begin{equation}
    X_1,\dots,X_m\mathbb{I}_aY_1,\dots,Y_m
    \label{eq:semantic-lenzen}
  \end{equation}
  to mean that for each $v\in W$, the number of $X_i$'s containing $v$
  is less than or equal to the number of $Y_i$'s containing $v$. This is the
  semantic counterpart of the formula from
  Definition~\ref{definition:segerberg-notation}.  We may write
  $(X_i\mathbb{I}_aY_i)_{i=1}^m$ as an abbreviation for
  \eqref{eq:semantic-lenzen}.  Also, we write
  $(X_i\mathbb{E}_aY_i)_{i=1}^m$ to mean that both
  $(X_i\mathbb{I}_aY_i)_{i=1}^m$ and $(Y_i\mathbb{I}_aX_i)_{i=1}^m$
  hold, and we allow the notation with $\mathbb{E}_a$ to be used in a
  form as in \eqref{eq:semantic-lenzen}.  The following is a list of
  properties that $\M$ may satisfy.
  \begin{description}
  \item[(d)] $\forall X \in N_a(w): [w]_a - X \notin  N_a(w)$.

  % \item[(lt)] $\forall \phi\in\Lang_\KB:\text{ if } [w]_a-\semn{\phi}\notin
  %   N_a(w) \text{, then } \semn{\phi}\cap[w]_a\in N_a(w)$.
 
  \item[(sc)] $\forall X,Y\subseteq[w]_a$:
    if $[w]_a-X\notin N_a(w)$ and $X\subsetneq Y$, then
    $Y\in N_a(w)$.

  \item[(l)] $\forall m\in\Int^+,\forall
  X_1,\dots,X_m,Y_1,\dots,Y_m\subseteq[w]_a:$
  \[
  \renewcommand{\arraystretch}{1.3}
  \begin{array}{ll}
    \text{if }
    &
    \begin{array}[t]{l}
      X_1,\dots,X_m\mathbb{I}_aY_1,\dots,Y_m\quad\text{and}
      \\
      X_1\in N_a(w)\quad\text{and}
      \\
      \forall i\in\{2,\dots,m\}:
      [w]_a-X_i\notin N_a(w) \enspace\text{,}
    \end{array}
    \\
    \text{then }
    &
    \exists j\in\{1,\dots,m\}: Y_j\in N_a(w)\enspace\text{.}
  \end{array}
  \]
  \end{description}
  To say an epistemic neighborhood model is \emph{mid-threshold} means
  it satisfies (d), (sc), and (l).  We may drop the word ``epistemic''
  in referring to mid-threshold epistemic neighborhood models.
  Pointed versions of mid-threshold neighborhood models are defined in
  the obvious way.
\end{definition}

Property (d) ensures that beliefs are consistent in the sense that the
agent does not believe both $X$ and its complement
$\overline{X}:=[w]_a-X$.  Property (sc) is a form of ``strong
commitment'': if the agent does not believe the complement
$\overline{X}$, then she must believe any strictly weaker $Y$ implied
by $X$.  Property (l) is a version of the Lenzen scheme (Len) from
Definition~\ref{definition:lenzen-schemes}.  We will come back to this
property later.

\section{Relating Belief and Willingness to Bet}
\label{Section:BeliefBet}

We now relate the definition of belief in neighborhood models to the
notion of belief as willingness to bet.

\begin{definition}
  Given an epistemic probability model $\M = (W,R,V,P)$ and
  a threshold $c\in[\frac 12,1)\cap\Rat$, we define the structure
  \[
  \M^c := (W,R,V,N^c)
  \]
  by setting
  \[
  N^c_a(w) := \{X\subseteq[w]_a\mid P_{a,w}(X)>c\}\enspace.
  \]
\end{definition}

Intuitively, agent $a$ believes a proposition $X$ at world $w$ (i.e., $X\in N^c_a(w)$) if and
only if $X$ is epistemically possible (i.e., $X\subseteq[w]_a$) and
the probability $a$ assigns to $X$ at world $w$ is greater than $c$ (i.e.,
$P_{a,w}(X)>c$).

\begin{lemma}[Correctness]
  \label{lemma:correctness}
  If $\M$ is an epistemic probability model and $c\in[\frac
  12,1)\cap\Rat$, then $\M^c$ is an epistemic neighborhood model.
  Furthermore, $\M^{\frac 12}$ is a mid-threshold neighborhood model.
\end{lemma}
\begin{proof}
  We verify that $N^c_a$ satisfies the required properties.
  \begin{itemize}
  \item For (kbc), $X\in N^c_a(w)$ implies $X\subseteq[w]_a$ by
    definition.

  \item For (kbf), $P_{a,w}(\emptyset)=0<c$, so $\emptyset\notin N^c_a(w)$.

  \item For (n), $P_{a,w}([w]_a) = 1 > c$, so
    $[w]_a \in N^c_a(w)$.

  \item For (a), suppose $X \in N^c_a(w)$ and $v\in [w]_a$.  Then
    $P_{a,w}(X)>c$.  Since $v\in [w]_a$ implies $[w]_a = [v]_a$, we
    have
    \[
    P_{a,w}(X) = 
    \frac{P_a(X\cap[w]_a)}{P_a([w]_a)} =
    \frac{P_a(X\cap[v]_a)}{P_a([v]_a)} =
    P_{a,v}(X) \enspace.
    \]
    Hence $P_{a,v}(X)>c$, so $X \in N^c_a(v)$.

  \item For (kbm), suppose $X \in N^c_a(w)$.  Then $P_{a,w}(X)>c$.
    Hence if $Y$ satisfies $X \subseteq Y \subseteq [w]_a$, we have
    $P_{a,w}(Y)>c$ and so $Y \in N^c_a(w)$.
  \end{itemize}
  So $\M^c$ is an epistemic neighborhood model.  We now show that
  $\M^{\frac 12}$ satisfies the additional required properties.
  \begin{itemize}
  \item For (d), assume $c\in[\frac 12,1)\cap\Rat$ and $X \in
    N^c_a(w)$.  Then $P_{a,w}(X) > c$, and therefore $P_{a,w}([w]_a -
    X) \leq 1-c\leq c$. Hence $[w]_a - X \notin N^c_a(w)$.

  \item For (sc), assume $X':=[\Gamma]_a-X\notin N^{\frac 12}_a(w)$
    and $X\subsetneq Y\subseteq[\Gamma]_a$.  From the first
    assumption, we have $P_{a,w}(X') \leq \frac 12$, and therefore
    that $P_{a,w}(X)\geq \frac 12$.  Applying the second assumption,
    $P_{a,w}(Y) > P_{a,w}(X)\geq \frac 12$, and hence $X\in N^{\frac
      12}_a(w)$.

  \item For (l), we assume $c\in(0,\frac 12]\cap\Rat$ along with the
    following:
    \begin{eqnarray}
      &&
      (X_i\mathbb{I}_aY_i)_{i=1}^m
      \label{eq:prop-l:E2} 
      \\ &&
      X_1^{w,a}\in N^c_a(w,i) 
      \label{eq:prop-l:X1} 
      \\ && 
      \forall i\in\{2,\dots,m\}: [\Gamma]_a-X\notin N^c_a(w) 
      \label{eq:prop-l:Xcs} 
    \end{eqnarray}
    From \eqref{eq:prop-l:E2} it follows that
    \begin{equation}
      P_{a,w} (X_1)+\cdots+P_{a,w}(X_m)\leq
      P_{a,w}(Y_1)+\cdots+ P_{a,w}(Y_m)
      \label{eq:sums-eq}
    \end{equation}
    The argument for this is similar to an argument for \eqref{eq:sum}
    in proof of Proposition~\ref{prop:belief}\eqref{item:B-Len}.  From
    \eqref{eq:prop-l:X1}, we have $P_{a,w}(X_1)>c$.  From
    \eqref{eq:prop-l:Xcs}, we have for each $i\in\{2,\dots,m\}$ that
    $P_{a,w}([w]_a-X_i)\leq c$ and therefore that $P_{a,w}(X_i)\geq
    1-c\geq c$ since $c\in(0,\frac 12]\cap\Rat$.  Hence the left side
    of \eqref{eq:sums-eq} exceeds $mc$.  Since every summand on the
    right side of the inequality is positive and $mc>0$, it follows
    that at least one member of the right side of \eqref{eq:sums-eq}
    must exceed $c$.  That is, there exists $j\in\{1,\dots,m\}$ such
    that $P_{a,w}(Y_j) > c$ and hence $Y_j\in N^c_a(w)$.  \qedhere
  \end{itemize}
\end{proof}

\begin{theorem}[Betting and Certainty]
  \label{BettingTheorem}
  For each epistemic probability model $\M = (W,R,V,P)$, world $w \in
  W$, threshold $c\in(0,1)\cap\Rat$, and formula $\phi \in \Lang_\KB$,
  we have:
  \[
  \M^c,w \modelsn\phi \quad\text{iff}\quad \M,w \modelsp\phi^c
  \enspace.
  \]
\end{theorem}
\begin{proof}
  Induction on the structure of $\phi$. The non-modal cases are
  obvious.

  We first consider knowledge formulas. Assume $\M^c,w \modelsn
  K_a\psi$.  This means
  $[w]_a\subseteq\semn{\psi}^{\M^c}$. Applying the induction hypothesis, this is equivalent to
  $[w]_a\subseteq\semp{\psi^c}^{\M}$.  But the latter holds if and only if
  \[
  P_{a,w}(\semp{\psi^c}^\M) =
  \frac{P_a(\semp{\psi^c}^\M\cap[w]_a)}{P_a([w]_a)}=1 \enspace,
  \]
  which is what it means to have $\M,w\modelsp P_a(\psi^c)=1$.
  Since $P_a(\psi^c)=1$ is what is abbreviated by $(K_a\psi)^c$, the result follows.

  Now we move to belief formulas. Assume $\M^c,w \modelsn
  B_a\psi$.  This means that
  $[w]_a\cap\semn{\psi}^{\M^c}\in N^c_a(w)$.
  Applying induction hypothesis, this is equivalent to
  $[w]_a\cap\semp{\psi^c}^\M\in N^c_a(w)$.
  By the definition of $N^c_a$, the latter holds
  iff
  $P_{a,w}([w]_a\cap\semp{\psi^c}^\M)>c$.
  But this is equivalent to
  $P_{a,w}(\semp{\psi^c}^\M)>c$, which is 
  what it means
  to have $\M,w \modelsp P_a(\psi^c)>c$.
  Since $P_a(\psi^c)>c$ is what is abbreviated by
  $(B_a\psi)^c$, the result follows.
\end{proof}

\section{Calculi for Belief as Willingness to Bet}
\label{Section:Calculi}

\begin{definition}
  \label{definition:calculi}
  We define the following theories in the language $\Lang_\KB$.
  \begin{itemize}
  \item $\KB$ is defined in Table~\ref{table:KB}.

  \item $\KBeq$ is obtained from $\KB$ by adding (D), (SC), and (L)
    from Table~\ref{table:additional-schemes}.

  \item $\KBeqm$ is obtained from $\KBeq$ by omitting (KBM).
  \end{itemize}
\end{definition}

\begin{table}[ht]
  \begin{center}
    \textsc{Axiom Schemes}\\[.4em]
    \renewcommand{\arraystretch}{1.3}
    \begin{tabular}[t]{cl}
      (CL) &
      Schemes of Classical Propositional Logic
      \\
      (KS5) &
      $\mathsf{S5}$ axiom schemes for each $K_a$
      \\
      (KBC) &
      $K_a\phi\to B_a\phi$
      \\
      (BF) &
      $\lnot B_a\bot$
      \\
      (N) &
      $B_a\top$
      \\
      (Ap) &
      $B_a\phi\to K_aB_a\phi$
      \\
      (An) &
      $\lnot B_a\phi\to K_a\lnot B_a\phi$
      \\
      (KBM) &
      $K_a(\phi\to\psi)\to(B_a\phi\to B_a\psi)$
    \end{tabular}
    \renewcommand{\arraystretch}{1.0}
    \\[1em]
    \textsc{Rules}\vspace{-.5em}
    \[
    \begin{array}{c}
      \phi\to\psi \quad \phi
      \\\hline
      \psi
    \end{array}\;\text{\footnotesize(MP)}
    \qquad
    \begin{array}{c}
      \phi
      \\\hline
      K_a\phi
    \end{array}\;\text{\footnotesize(MN)}
    \]
  \end{center}
  \caption{The theory $\KB$}
  \label{table:KB}
\end{table}

\begin{table}[ht]
  \begin{center}
    \renewcommand{\arraystretch}{1.3}
    \begin{tabular}[t]{cl}
      % (LT) &
      % $\check B_a\phi\to B_a\phi$
      % \\
      (D) &
      $B_a\phi\to \check B_a\phi$
      \\
      (SC) &
      $\check B_a\phi \land 
      \check K_a(\lnot\phi\land\psi) \to 
      B_a(\phi\lor\psi)$
      \\
      (L) &
      $\textstyle [(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m
      \land B_a\phi_1 \land \bigwedge_{i=2}^m \check B_a\phi_i] \to
      \bigvee_{i=1}^m B_a\psi_i$
    \end{tabular}
  \end{center}
  \caption{Additional axiom schemes for the theory $\KBeq$}
  \label{table:additional-schemes}
\end{table}

\subsection{Results for the Basic Calculus \texorpdfstring{$\KB$}{KB}}

The following result shows that if we restrict attention to provable
statements whose only modality is single-agent belief $B_a\phi$, then
$\KB$ is an extension of the minimal modal logic $\mathsf{EMN45}+\lnot
B_a\bot=\mathsf{EMN45}+(\text{BF})$ obtained by adding
$\mathsf{S5}$-knowledge and the knowledge-belief connection principles
(KBC), (Ap), (An), and (KBM).\footnote{$\mathsf{EMN45}+(\text{BF})$ is
  the logic of single-agent belief (without knowledge) having Schemes
  (CL) (Table~\ref{table:KB}), M
  (Prop.~\ref{prop:KBgt-derivables}\eqref{derivables:Band-andB}), (N)
  (Table~\ref{table:KB}), 4
  (Prop.~\ref{prop:KBgt-derivables}\eqref{derivables:pos-belief}), 5
  (Prop.~\ref{prop:KBgt-derivables}\eqref{derivables:neg-belief}), and
  (BF) (Table~\ref{table:KB}) along with Rules (MP)
  (Table~\ref{table:KB}) and RE
  (Prop.~\ref{prop:KBgt-derivables}\eqref{derivables:RE}). This is a
  ``monotonic'' system of modal logic satisfying positive and negative
  belief introspection (4 and 5) and the property (BF) that falsehood
  $\bot$ is not believed. See \cite[Ch.~8]{Chellas:ml} for details on
  naming minimal modal logics.} The modal theory $\KBeq$ is therefore
a similar knowledge-inclusive extension of
$\mathsf{EMND45}+(\text{BF})+(\text{L})$ that adds the additional
connection principle
(SC).\footnote{$\mathsf{EMND45}+(\text{BF})+(\text{L})$ is
  $\mathsf{EMN45}+(\text{BF})$ plus Schemes (D) and (L) from
  Table~\ref{table:additional-schemes}.}  In
Section~\ref{section:kbeq}, we will show that $\KBeq$ is the modal
logic for probabilistic belief with threshold $c=\frac 12$.

\begin{proposition}[$\KB$ Derivables]
  \label{prop:KBgt-derivables}
  We have each of the following.
  \begin{enumerate}
  \item $\KB\vdash B_a(\phi\land\psi)\to(B_a\phi\land B_a\psi)$.
    \label{derivables:Band-andB}

    This is ``Scheme M'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash K_a\phi\land B_a\psi\to B_a(\phi\land\psi)$.
    \label{derivables:andB-Band}

    If the antecedent $K_a\phi$ were replaced by $B_a\phi$, then we
    would obtain ``Scheme C'' \cite[Ch.~8]{Chellas:ml}.  So we do not
    have Scheme C outright but instead a knowledge-weakened version:
    in order to conclude belief of a conjunction from belief of one of
    the conjuncts, the other conjunct must be known (and not merely
    believed, as is required by the stronger, non-$\KB$-provable
    Scheme C).

  \item $\KB\vdash K_a(\phi\to\psi)\to(\check B_a\phi\to\check B_a\psi)$.
    \label{derivables:check-M}

    This is the dual version of our (KBM).

    \item $\KB\vdash B_a\phi\to B_aB_a\phi$.
    \label{derivables:pos-belief}

    This is ``Scheme 4'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash \lnot B_a\phi\to B_a\lnot B_a\phi$.
    \label{derivables:neg-belief}

    This is ``Scheme 5'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash B_a\phi\leftrightarrow K_aB_a\phi$.
    \label{derivables:B-KB}

    This says that belief and knowledge of belief are equivalent.

  \item $\KB\vdash \lnot B_a\phi\leftrightarrow K_a\lnot B_a\phi$.
    \label{derivables:nB-KnB}

    This says that non-belief and knowledge of non-belief are equivalent.

  \item $\KB\vdash\phi$ implies $\KB\vdash B_a\phi$.
    \label{derivables:B-nec}

    This is the rule of Modus Ponens (or Modal Necessitation),
    sometimes called ``Rule RN'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash\phi\to\psi$ implies $\KB\vdash B_a\phi\to B_a\psi$.
    \label{derivables:Bimp}

    This is ``Rule RM'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash\phi\to\psi$ implies $\KB\vdash\check
    B_a\phi\to\check B_a\psi$.
    \label{derivables:check-Bimp}
    
    This is the dual version of RM.
    
  \item $\KB\vdash\phi\leftrightarrow\psi$ implies
    $\KB\vdash B_a\phi\leftrightarrow B_a\psi$.
    \label{derivables:RE}

    This is ``Rule RE'' \cite[Ch.~8]{Chellas:ml}.

  \item $\KB\vdash\phi\to\bot$ implies $\KB\vdash\lnot
    B_a\phi$. \label{derivables:GBF}

    This says that no self-contradictory sentence is believed.  This
    may be viewed as a certain generalization of (BF)
    (Table~\ref{table:KB}).
  \end{enumerate}
\end{proposition}
\begin{proof}
  We reason in $\KB$.
  For \ref{derivables:Band-andB}, we derive
  \begin{equation}
    K_a((\phi\land\psi)\to\phi)\to(B_a(\phi\land\psi)\to B_a\phi)
    \label{eq:derivables:Band-andB}
  \end{equation}
  by (KBM), and the antecedent of \eqref{eq:derivables:Band-andB} by (CL) and (MN).
  Therefore, the consequent of \eqref{eq:derivables:Band-andB} is derivable by (MN).
  By a similar argument,  $B_a(\phi\land\psi)\to B_a\psi$ is derivable.  By classical
  reasoning,
  \ref{derivables:Band-andB} is derivable.
  
  For \ref{derivables:andB-Band}, we derive
  \begin{eqnarray}
    &&
    K_a\phi\to K_a(\psi\to(\phi\land\psi)) \enspace\text{and}
    \label{eq:derivables:andB-Band1}
    \\
    &&
    K_a(\psi\to(\phi\land\psi))\to(B_a\psi\to B_a(\phi\land\psi)) \enspace\text{.}
    \label{eq:derivables:andB-Band2}
  \end{eqnarray}
  \eqref{eq:derivables:andB-Band1} follows by $\mathsf{S5}$ reasoning.
  \eqref{eq:derivables:andB-Band2} follows by (KBM).  Applying classical reasoning
  to \eqref{eq:derivables:andB-Band1} and \eqref{eq:derivables:andB-Band2},
  we obtain
  \[
  K_a\phi\to (B_a\psi\to B_a(\phi\land\psi))\enspace,
  \]
  from which \ref{derivables:andB-Band} follows by classical reasoning.

  For \ref{derivables:check-M}, we derive
  \begin{eqnarray}
    &&
    K_a(\phi\to\psi)\to K_a(\lnot\psi\to\lnot\phi) \enspace\text{and}
    \label{eq:derivables:check-M1}
    \\
    &&
    K_a(\lnot\psi\to\lnot\phi)\to(B_a\lnot\psi\to B_a\lnot\phi) \enspace\text{.}
    \label{eq:derivables:check-M2}
  \end{eqnarray}
  \eqref{eq:derivables:check-M1} follows by $\mathsf{S5}$ reasoning.
  \eqref{eq:derivables:check-M2} follows by (KBM).  Applying classical reasoning
  to \eqref{eq:derivables:check-M1} and \eqref{eq:derivables:check-M2},
  we obtain
  \[
  K_a(\phi\to\psi)\to(B_a\lnot\psi\to B_a\lnot\phi)\enspace,
  \]
  from which \ref{derivables:check-M} follows by classical reasoning
  (just contrapose the consequent).

  \ref{derivables:pos-belief} follows by (Ap) and (KBC).
  \ref{derivables:neg-belief} follows by (An) and (KBC).
  \ref{derivables:B-KB} follows by by (Ap) for the right-to-left and (KS5) for the left-to-right.
  \ref{derivables:nB-KnB} follows by (An) for the right-to-left and (KS5) for the left-to-right.
  \ref{derivables:B-nec} follows by (MN) and (KBC).
  \ref{derivables:Bimp} follows by (MN) and (KBM).
  \ref{derivables:check-Bimp} follows by contraposition, (MN), (KBM), and contraposition.
  \ref{derivables:RE} follows from \ref{derivables:Bimp} by classical reasoning.

  For \ref{derivables:GBF}, we have
  \begin{equation}
    K_a(\phi\to\bot)\to(B_a\phi\to B_a\bot)
    \label{eq:GBF}
  \end{equation}
  by (KBM).  Therefore, if $\phi\to\bot$ is provable, it follows by
  (MN) that the antecedent of \eqref{eq:GBF} is as well.  By (MP), the
  consequent $B_a\phi\to B_a\bot$ is provable.  Applying (BF) and
  classical reasoning, it follows by contraposition that $\lnot
  B_a\phi$ is provable.
\end{proof}

\begin{theorem}[$\KB$ Neighborhood Soundness]
  \label{theorem:KB-neighborhood-soundness}
  $\KB$ is sound with respect to the class $\mathcal{C}$ of
  epistemic neighborhood models:
  \[
  \forall\phi\in\Lang_\KB:\quad\KB\vdash\phi
  \quad\Rightarrow\quad
  \mathcal{C}\modelsn\phi
  \enspace.
  \]
\end{theorem}
\begin{proof}
  By induction on the length of derivation.  We first
  verify soundness of the axioms.
  \begin{itemize}
  \item Validity of (CL)
    immediate. Validity of (KS5) follows because the $R_a$'s are equivalence relations
    \cite{BlaRijVen:ml}.

  \item Scheme (KBC) is valid: $\modelsn K_a\phi\to B_a\phi$.

    $\M,w\modelsn K_a\phi$ means $[w]_a\subseteq\semn{\phi}$.  Since
    $[w]_a\in N_a(w)$ by (n), we have $[w]_a\cap\semn{\phi}=[w]_a\in
    N_a(w)$.  That is, $\M,w\modelsn B_a\phi$.

  \item Scheme (BF) is valid: $\modelsn\lnot B_a\bot$.

    $\semn{\bot}=\emptyset\notin N_a(w)$ by (kbf).  Hence
    $\M,w\not\modelsn B_a\bot$.

  \item Scheme (N) is valid: $\modelsn B_a\top$.

    $\semn{\top}\cap[w]_a=[w]_a\in N_a(w)$ by (n).  Hence
    $\M,w\modelsn B_a\top$.

  \item Scheme (Ap) is valid: $\modelsn B_a\phi\to K_a B_a\phi$.

    Suppose $\M,w\modelsn B_a\phi$. Then $[w]_a\cap\semn{\phi}\in
    N_a(w)$.  Take $v\in[w]_a$.  We have $[v]_a=[w]_a$ because $R_a$
    is an equivalence relation, and we have $N_a(v)=N_a(w)$ by (a).
    Hence $[v]_a\cap\semn{\phi}\in N_a(v)$; that is, $\M,v\modelsn
    B_a\phi$.  Since $v\in [w]_a$ was chosen arbitrarily, we have
    shown that $[w]_a\subseteq\semn{B_a\phi}$.  Hence $\M,w\modelsn
    K_a B_a\phi$.

  \item Scheme (An) is valid: $\modelsn \lnot B_a\phi\to K_a\lnot B_a\phi$.

    Replace $B_a\phi$ by $\lnot B_a\phi$ and $\in$ by $\notin$ in the
    argument for the previous item.

  \item Scheme (KBM) is valid: $\modelsn K_a(\phi\to\psi)\to(B_a\phi\to B_a\psi)$.

    Suppose $\M,w\modelsn K_a(\phi\to\psi)$ and $\M,w\modelsn
    B_a\phi$.  This means $[w]_a\subseteq\semn{\phi\to\psi}$ and
    $[w]_a\cap\semn{\phi}\in N_a(w)$. But then
    \[
    [w]_a\cap\semn{\phi}\subseteq
    [w]_a\cap\semn{\phi}\cap\semn{\phi\to\psi}\subseteq
    [w]_a\cap\semn{\psi}\enspace.
    \]
    Hence $[w]_a\cap\semn{\psi}\in N_a(w)$ by (kbm).  That is,
    $\M,w\modelsn B_a\psi$.
  \end{itemize}
  That validity is closed under applications of the rules MP and MN
  follows by the standard arguments \cite{BlaRijVen:ml}.
\end{proof}

In preparation for the proof of completeness of $\KB$ with respect to
the class of finite epistemic neighborhood models, we require
a few preliminary definitions and a key lemma.  The first definition concerns maximal
consistent sets and definability of collections of these sets.

\begin{definition}
  \label{definition:definability}
  Let $L$ be a set of $\Lang_\KB$-formulas.
  An \emph{$L$-world} is a maximal $\KB$-consistent subset of $L$.\footnote{To say 
  that a set of $\Lang_\KB$-formulas is \emph{$\KB$-consistent}
  means that $\KB$ cannot be used to derive $\bot$ from a finite subset; the set is 
  \emph{maximal $\KB$-consistent}
  iff adding a formula not already present will violate $\KB$-consistency.}
  We write $W^L$ for the set of $L$-worlds.
  To say that $L$-worlds $\Gamma$ and $\Delta$ are \emph{$a$-compatible}, written
  $\Gamma R_a\Delta$, means
  \[
  \forall K_a\phi\in L:(K_a\phi\in\Gamma \Leftrightarrow K_a\phi\in\Delta)\enspace.
  \]
  $a$-compatability is an equivalence relation and we write
  \[
  [\Gamma]_a := \{\Delta\in W^L\mid \Gamma R_a\Delta\}
  \]
  for the equivalence class of an $L$-world $\Gamma$ under this relation.
  An \emph{$L$-$a$-region} is a set $X\subseteq[\Gamma]_a$
  of $a$-compatible $L$-worlds.
  To say $L$-$a$-regions $X$ and $Y$ are \emph{$a$-compatible} means
  that they are each subsets of a single equivalence class $[\Gamma]_a$.
  For $L'\subseteq L$, to say that an $L$-$a$-region $X\subseteq[\Gamma]_a$ is \emph{$L'$-definable}
  means
  \[
  \textstyle
  \exists\phi\in L':
  X=\{\Delta\in[\Gamma]_a\mid \phi\in\Delta\}\enspace;
  \]
  i.e., fixing the equivalence class $[\Gamma]_a$ containing $X$, some
  $\phi\in L'$ satisfies the property that $X$ is the set of all
  $a$-compatible worlds containing $\phi$.  The formula $\phi$ is said
  to \emph{define} $X$.  To say an $L$-world $\Gamma$ is
  \emph{$L'$-definable} means that the $L$-$a$-region $\{\Gamma\}$ is
  $L'$-definable.
\end{definition}

\begin{definition}[\cite{Segerberg1971:qpiams}]
  Let $L$ be a  set of $\Lang_\KB$-formulas.
  A \emph{basis} for $L$ is a subset $L_0\subseteq L$ satisfying the property
  \[
  \forall \phi\in L,\exists \phi_0\in L_0:
  \KB\vdash\phi\leftrightarrow\phi_0\enspace.
  \]
  To say $L$ is \emph{logically finite} means $L$ has a finite basis.
\end{definition}

Logical finiteness is a useful property: a logically finite set $L$
may be infinite and yet there will be only finitely many $L$-worlds (i.e.,
$W^L$ is finite).  Segerberg
introduced logical finiteness in order to exploit
this property in a filtration-completeness argument for a modal theory
of qualitative probabilistic comparison \cite{Segerberg1971:qpiams}.  We will
also exploit this property here.  However, we will have an additional task,
which takes the form of the following lemma.

\begin{lemma}
  \label{lemma:definability}
  Let $L$ be a finite, subformula-closed set of $\Lang_\KB$-formulas.
  Let $L'$ be the Boolean closure of $L$.\footnote{That is, $L'$ is
    the smallest extension of $L$ closed under negation, conjunction,
    disjunction, implication, and the addition of the propositonal
    constants $\bot$ (falsehood) and $\top$ (truth).}  For each unary
  symbol $M\in\{\lnot,B_a,K_a\}$ and set of $\Lang_\KB$-formulas $S$,
  define $\bar MS:=S\cup\{M\phi\mid\phi\in S\}$ and let ${\bar\vee} S$
  denote the closure of $S$ under finite nonempty disjunctions.
  Define
  \[
  \textstyle
  L^+ := \bigcup_{a\in A}\bar\lnot\bar K_a \bar\lnot{\bar\vee}\bar B_a L'
  \enspace.
  \]
  $L'$ and $L^+$ are logically finite.  If $L'_0$ is a finite basis for $L'$,
  then every $L^+$-$a$-region is $L'_0$-definable.
\end{lemma}
\begin{proof}
  Logical finiteness of $L'$ follows from the finiteness of $L$ by a
  normal form argument: treat modal formulas as letters and then
  consider disjunctive normal forms of $L'$-formulas using this
  extended but still finite set of letters appearing in $L$.  So let
  $L'_0$ be a finite basis for $L'$.  Let ${\bar\vee}_{<\infty}S$
  denote the closure of a set $S$ of formulas under finite nonempty
  disjunctions without repeated disjuncts.  Observe that
  ${\bar\vee}_{<\infty}S$ is finite if $S$ is.  We prove that
  \[
  \textstyle
  L^+_0 := \bigcup_{a\in A}\bar\lnot\bar K_a\bar\lnot{\bar\vee}_{<\infty}\bar B_a L'_0
  \]
  is a finite basis for $L^+$.  Since $L'_0$ is a finite basis for
  $L'$ and $L^+_0$ is obviously finite, it suffices for us to show
  that for each $\phi\in L^+-L'$, there exists $\phi_0\in L^+_0$ such
  that $\phi\leftrightarrow\phi_0$ is $\KB$-derivable.  There are only
  a few cases to consider.
  \begin{itemize}
  \item Case: $\phi=B_a\psi$ with $\psi\in L'$.
    
    Choose $\psi\in L'_0$ such that $\psi\leftrightarrow\psi_0$ is
    provable.  This is possible because $L'_0$ is a basis for $L'$.
    By Proposition~\ref{prop:KBgt-derivables}\eqref{derivables:RE}, it
    follows that $B_a\psi\leftrightarrow B_a\psi_0$ is provable if
    $\psi\leftrightarrow\psi_0$ is.  Since $B_a\psi_0\in L^+_0$, the
    result follows.

  \item Case: $\phi=\bigvee_{i=1}^m B_a\psi^i$ with each $\psi_i\in L'$.

    By the previous case we have provably equivalent $B_a\psi^i_0\in
    L^+_0$ for each $i$.  Renumber the $\psi^i$'s and choose the
    largest $n\leq m$ such that $\bigvee_{i=1}^n B_a\psi^i$ contains
    no repeated disjuncts.  By classical reasoning, we have
    \[
    \textstyle
    \vdash\bigvee_{i=1}^m B_a\psi^i\leftrightarrow\bigvee_{i=1}^n B_a\psi^i_0\enspace.
    \]
    Since $\bigvee_{i=1}^n B_a\psi^i_0$ contains no repetitions, this
    formula is a member of $L^+_0$ and the result follows.

  \item Case: $\phi=\lnot\bigvee_{i=1}^m B_a\psi^i$ or 
    $\phi=\lnot\lnot\bigvee_{i=1}^m B_a\psi^i$.

    By the previous case and the definition of $L^+_0$.

  \item Case: $\phi=K_a\chi$ and $\chi$ is $\lnot\bigvee_{i=1}^m B_a\psi^i$, 
    $\bigvee_{i=1}^m B_a\psi^i$, or $\psi\in L'$.

    By the previous cases or the fact that $L'_0$ is a basis for $L'$,
    there exists $\chi_0\in L^+_0$ such that
    $\chi\leftrightarrow\chi_0$ is derivable.  Since $K_a$ is
    $\textsf{S5}$, it follows that $K_a\chi\leftrightarrow K_a\chi_0$
    is derivable as well.  Since $K_a\chi_0\in L^+_0$, the result
    follows.

  \item Case: $\phi=\lnot K_a\chi$ and $\chi$ is as in the previous case.

    By the previous case and the definition of $L^+_0$.
  \end{itemize}
  Note that we need not consider the cases $\phi=\lnot\psi$ or
  $\phi=\lnot\lnot\psi$ with $\psi\in L'$ because $L'$ is closed under
  Boolean operations and hence such $\phi$ are already in $L'$.
  Conclusion: $L^+_0$ is a finite basis for $L^+$, so $L^+$ is
  logically finite.

  Now let $L'_0$ be an arbitrary finite basis for $L'$.  What remains
  is to show that every $L^+$-$a$-region is $L'_0$-definable. But this
  follows if every $L^+$-world is $L'_0$-definable.  Indeed, each
  $L^+$-$a$-region contains finitely many $L^+$-worlds because the
  logical finiteness of $L^+$ implies $W^{L^+}$ is finite.  Therefore,
  if the $L^+$-worlds $\Gamma_1,\dots,\Gamma_n$ are respectively
  defined by the $L'_0$-formulas $\phi_1,\dots,\phi_n$, then the
  disjunction of these formulas, which is a member of $L'$ and is
  therefore provabily equivalent to another $L'_0$-formula, defines
  the $L^+$-$a$-region consisting of the worlds.

  So all we must show is that every $L^+$-world is $L'_0$-definable.
  Proceeding, let $\Gamma$ be an $L^+$-world.  Let $\gamma$ be the
  conjunction consisting the members of $\Gamma\cap L'_0$ along with
  the negation of each member of $L'_0-\Gamma$.  Since $L'_0$ is
  finite, $\gamma$ is a formula in $L'$ and is therefore provably
  equivalent to some $\gamma_0\in L'_0$.  Clearly $\gamma_0\in\Gamma$
  by the maximal $\KB$-consistency of $\Gamma$.  So suppose that
  $\Delta\in[\Gamma]_a$ is an arbitrary $a$-compatible $L^+$-world and
  $\gamma_0\in\Delta$.  If we can show that $\Delta=\Gamma$, then the
  proof is complete.  Proceeding, it follows by the maximal
  $\KB$-consistency of $\Delta$ that $\gamma\in\Delta$ and therefore
  $\Gamma\cap L'_0=\Delta\cap L'_0$.  Since $L'_0$ is a basis for
  $L'$, it follows by maximal $\KB$-consistency that $\Gamma\cap
  L'=\Delta\cap L'$.  So to prove that $\Delta=\Gamma$, all that
  remains is to prove that for each $\phi\in L^+-L'$, we have
  $\phi\in\Delta$ iff $\phi\in\Gamma$.  For this there are only a few
  cases to consider.
  \begin{itemize}
  \item Case: $\phi=B_a\psi$ with $\psi\in L'$.

    By the definition of $L^+$, maximal consistency, (Ap), the
    definition of $a$-compatibility, and the $\mathsf{S5}$ scheme
    $K_a\chi\to\chi$, we have
    \[
    \renewcommand{\arraystretch}{1.3}
    \begin{array}{lcl}
      B_a\psi\in \Gamma 
      & \Rightarrow &
      K_aB_a\psi\in \Gamma
      \\
      & \Rightarrow &
      K_aB_a\psi\in \Delta
      \\
      & \Rightarrow &
      B_a\psi\in \Delta\enspace.
    \end{array}
    \]
    By the definition of $L^+$, maximal consistency, (An), the
    definition of $a$-compatibility, and the same $\mathsf{S5}$
    scheme, we also have
    \[
    \renewcommand{\arraystretch}{1.3}
    \begin{array}{lcl}
      B_a\psi\in L^+-\Gamma 
      & \Rightarrow &
      \lnot B_a\psi\in \Gamma
      \\
      & \Rightarrow &
      K_a\lnot B_a\psi\in  \Gamma
      \\
      & \Rightarrow &
      K_a\lnot B_a\psi\in \Delta
      \\
      & \Rightarrow &
      \lnot B_a\psi\in \Delta
      \\
      & \Rightarrow &
      B_a\psi\in L^+-\Delta
      \enspace.
    \end{array}
    \]
    It follows that we have $B_a\psi\in\Gamma$ iff $B_a\psi\in\Delta$.

  \item Case: $\phi=\bigvee_{i=1}^m B_a\psi^i$, $\phi=\lnot\bigvee_{i=1}^m B_a\psi^i$, or 
    $\phi=\lnot\lnot\bigvee_{i=1}^m B_a\psi^i$.

    By the previous case and maximal consistency.

  \item Case: $\phi=K_a\chi$ or $\phi=\lnot K_a\chi$ and $\chi$ has
    the form of a previous case.

    By the definition of $a$-compatibility and maximal
    consistency. \qedhere
  \end{itemize}
\end{proof}

\begin{theorem}[$\KB$ Neighborhood Completeness]
  \label{theorem:KB-neighborhood-completeness}
  $\KB$ is complete with respect to the class $\mathcal{C}$ of
  epistemic
  neighborhood models:
  \[
  \forall\phi\in\Lang_\KB:\quad
  \mathcal{C}\modelsn\phi
  \quad\Rightarrow\quad
  \KB\vdash\phi
  \enspace.
  \]
  Further, every $\phi\in\Lang_\KB$ that is satisfiable at a pointed
  epistemic neighborhood model is satisfiable at a finite pointed
  epistemic neighborhood model.
\end{theorem}
\begin{proof}
  Fix $\theta\in\Lang_\KB$ satisfying
  $\KB\nvdash\lnot\theta$.  Let $\mathsf{sub}(\phi)$ denote the set of subformulas
  of $\phi$ (including $\phi$ itself).  Define the finite, subformula-closed set
  $L:=\mathsf{sub}(\theta)$
  and let $L'$ and $L^+$ be given as in Lemma~\ref{lemma:definability}.
  Fix a finite basis $L'_0$ for $L'$.  For each $L^+$-$a$-region $X$,
  we will conflate $X$ with a fixed
  $L'_0$-formula defining $X$ whose 
  existence is guaranteed by Lemma~\ref{lemma:definability}.

  We define the structure $\M=(W,R,V,N)$ as follows.
  \begin{eqnarray*}
    W &:=& W^{L^+}
    \\
    \Gamma R_a\Delta
    &\text{iff}&
    \forall K_a\phi\in L^+:(K_a\phi\in\Gamma\Leftrightarrow K_a\phi\in\Delta)
    \\{}
    [\Gamma]_a &:=& \{\Delta\in W\mid \Gamma R_a\Delta\}
    \\
    V(\Gamma) &:=& \Prop\cap\Gamma
    \\
    N_a(\Gamma) &:=&  \{X\subseteq[\Gamma]_a\mid B_aX\in\Gamma\}
  \end{eqnarray*}
  $\M$ is finite: the logical finiteness of $L^+$ implies
  $W^{L^+}$ is finite, so each component of $\M$ is finite.

  We verify that $\M$ is an epistemic neighborhood model.  $W$ is
  nonempty because $\KBeq\nvdash\lnot\theta$ and therefore
  $\{\theta\}$ may be extended to a maximal consistent set
  $\Gamma_\theta\in W$.
  $R_a$ is obviously an equivalence relation.  What
  remains is to check that $N_a$ satisfies (kbc), (kbf), (n), (a),
  and (kbm).
  \begin{itemize}
  \item For (kbc), we must show $X\in N_a(\Gamma)$ implies
    $X\subseteq[\Gamma]_a$.  But this follows by the definition of
    $N_a(\Gamma)$.

  \item For (kbf), we must show that $\emptyset\notin N_a(\Gamma)$.
    Assume toward a contradiction that $\emptyset\in N_a(\Gamma)$.
    It follows that $B_a\emptyset\in\Gamma$.
    We have $\KB\vdash\emptyset\leftrightarrow\bot$ by the fact that
    $\bot$ defines the $L^+$-$a$-region $\emptyset$.
    By Proposition~\ref{prop:KBgt-derivables}\eqref{derivables:Bimp},
    we have
    $\KB\vdash B_a\emptyset\to B_a\bot$.  Since $B_a\bot\in L^+$, we have
    $B_a\bot\in\Gamma$ by maximal consistency.  But this
    contradicts the consistency of $\Gamma$ because we have
    $\lnot B_a\bot\in\Gamma$ by (BF), maximal consistency, and the fact that
    $\lnot B_a\bot\in L^+$.
    Conclusion: $\emptyset\notin N_a(\Gamma)$.

  \item For (n), we must show that $[\Gamma]_a\in N_a(\Gamma)$.
    Proceeding, we have $B_a\top\in\Gamma$ by (N), maximal consistency, and the
    fact that $B_a\top\in L^+$.
    We have $\KB\vdash\top\leftrightarrow[\Gamma]_a$ by the fact that
    $\top$ defines the $L^+$-$a$-region $[\Gamma]_a$, and therefore
    $\KB\vdash B_a\top\to B_a[\Gamma]_a$ by Proposition~\ref{prop:KBgt-derivables}\eqref{derivables:Bimp}.
    Hence
    $B_a[\Gamma]_a\in\Gamma$ by maximal consistency.  But then
    $[\Gamma]_a\in N_a(\Gamma)$.

  \item For (a), we must show that $\Delta\in[\Gamma]_a$ implies
    $N_a(\Delta)=N_a(\Gamma)$.  Choosing $\Delta\in[\Gamma]_a$, we have by
    our argument in the proof of
    Lemma~\ref{lemma:definability} that
    $B_a\phi\in\Gamma$ iff $B_a\phi\in\Delta$ for each $B_a\phi\in L^+$.
    Applying the definition of $N_a$, we have $N_a(\Delta)=N_a(\Gamma)$.

  \item For (kbm), we must show $X\in N_a(\Gamma)$ and $X\subseteq
    Y\subseteq[\Gamma]_a$ together imply that $Y\in
    N_a(\Gamma)$. So suppose $X\in N_a(\Gamma)$ and $X\subseteq
    Y\subseteq[\Gamma]_a$.  It follows that $B_aX\in\Gamma$.
    Since $X,Y\in L'_0$, it follows that
    $X\to Y\in L'$ and therefore that $K_a(X\to Y)\in L^+$.
    Further, it follows from $X\subseteq
    Y\subseteq[\Gamma]_a$ by maximal consistency that
    $K_a(X\to Y)\in\Gamma$.  Applying (KBM), maximal consistency, and the fact that
    $B_aY\in L^+$, we obtain $B_aY\in\Gamma$.
    Hence $Y\in N_a(\Gamma)$.
  \end{itemize}
  So $\M$ is indeed an epistemic neighborhood model.  

  We prove the
  following \emph{Truth Lemma\/}: for each $\phi\in L^+$ and
  $\Gamma\in W$, we have $\phi\in\Gamma$ iff
  $\M,\Gamma\modelsn\phi$. The proof is by induction on the
  construction of $\phi$.  Most cases are straightforward; we only
  consider the modal cases $\phi=K_a\psi$ and $\phi=B_a\psi$.
  \begin{itemize}
  \item For $K_a\psi\in L^+$: $K_a\psi\in\Gamma$ iff
    $\M,\Gamma\modelsn K_a\psi$.

    Suppose $K_a\psi\in\Gamma$. Take $\Delta\in[\Gamma]_a$.
    It follows that $K_a\psi\in\Delta$ by the definition of
    $R_a$.  Hence $\psi\in\Delta$ by the definition of $L$,
    the $\mathsf{S5}$ scheme $K_a\chi\to\chi$, and maximal consistency.
    Applying the induction hypothesis, we have
    $\M,\Delta\modelsn\psi$.  Since $\Delta\in[\Gamma]_a$ was
    chosen arbitrarily, we have shown that 
    $[\Gamma]_a\subseteq\semn{\psi}$.  That is,
    $\M,\Gamma\modelsn
    K_a\psi$.

    Conversely, suppose $K_a\psi\in L^+-\Gamma$.  It follows that $\lnot
    K_a\psi\in\Gamma$ by the definition of $L^+$ and maximal
    consistency.  We claim that the set
    \[
    S:=\{\lnot\psi\}\cup\{K_a\chi\in L^+\mid K_a\chi\in\Gamma\}
    \]
    is consistent.  Toward a contradiction, suppose $S$ is not
    consistent.  It follows that there are
    $K_a\chi_1,\ldots,K_a\chi_n\in\Gamma$ such that
    \[
    \KB\vdash K_a\chi_1\land\cdots\land K_a\chi_n\to \psi\enspace.
    \]
    It follows by modal reasoning using the $\mathsf{S5}$ operator
    $K_a$ that
    \[
    \KB\vdash K_a\chi_1\land\cdots\land K_a\chi_n\to K_a\psi\enspace.
    \]
    Hence $K_a\psi\in\Gamma$ by maximal consistency, which contradicts
    the consistency of $\Gamma$ because $\lnot K_a\psi\in\Gamma$.  
    So $S$ is indeed consistent and can therefore be
    extended to a maximal consistent $\Delta\in W^{L^+}$.  By construction,
    $\Delta\in[\Gamma]_a$ and, since $K_a\psi\in L^+$ implies $\lnot\psi\in L^+$,
    we also have $\lnot\psi\in\Delta$. But then
    $\psi\notin\Delta$ by consistency. By the definition
    of $L^+$, it follows from $K_a\psi\in L^+$ that $\psi\in L^+$, so we may
    apply the induction hypothesis: from $\psi\in L^+-\Delta$, we
    conclude that $\M,\Delta\not\modelsn\psi$ and therefore
    $\M,\Gamma\not\modelsn K_a\psi$.
    
  \item For $B_a\psi\in L^+$: $B_a\psi\in\Gamma$ iff
    $\M,\Gamma\modelsn B_a\psi$.

    Let $X_\chi\subseteq[\Gamma]_a$ be the $L^+$-$a$-region defined
    by $\chi\in L^+$.  Since $B_a\psi\in L^+$, it follows that
    $\psi\in L'$ and therefore we may choose
    $\psi_0\in L'_0$
    such that $\KB\vdash\psi\leftrightarrow\psi_0$.

    Now suppose $B_a\psi\in\Gamma$. By
    Proposition~\ref{prop:KBgt-derivables}\eqref{derivables:Bimp} and maximal consistency,
    this is equivalent to $B_a\psi_0\in\Gamma$.  This means
    $X_{\psi_0}\in N_a(\Gamma)$.  But $X_{\psi_0}=X_{\psi}$.  Applying the
    induction hypothesis, we have 
    $X_{\psi}\in N_a(\Gamma)$ iff $\semn{\psi}\cap[w]_a\in N_a(\Gamma)$.
    But the latter is the meaning of $\M,\Gamma\modelsn B_a\psi$.
  \end{itemize}
  This completes the proof of the Truth Lemma.

  Since
  $\theta\in\Gamma_\theta$, it follows by the Truth
  Lemma that $\M,\Gamma_\theta\modelsn\theta$.  Therefore, the
  satisfiable formula $\theta$ is satisfiable at the finite pointed
  epistemic neighborhood model $(\M,\Gamma_\theta)$.
  Completeness follows.
\end{proof}

\begin{theorem}[$\KB$ Probability Soundness]
  $\KB$ is sound for any threshold $c\in[\frac 12,1)\cap\Rat$ with respect to the class of epistemic
  probability models:
  \[
  \textstyle \forall c\in[\frac 12,1)
  \cap\Rat,\forall\phi\in\Lang_\KB:\quad
  \KB\vdash\phi
   \quad\Rightarrow\quad
  {}\modelsp\phi^c \enspace.
  \]
\end{theorem}
\begin{proof}
  By Propositions~\ref{prop:knowledge} and \ref{prop:belief}.  Note that by the proofs of these
  propositions, we can extend the result to all thresholds $c\in(0,1)\cap\Rat$.
\end{proof}

\begin{theorem}[\cite{WalleyFine1979:vomacp}; $\KB$ Probability Incompleteness]
  \label{theorem:KB-probability-incompleteness}
  $\KBc$ is incomplete for all thresholds $c\in[\frac 12,1)\cap\Rat$ with respect to the class of epistemic
  probability models:
  \[
  \textstyle 
  \exists\phi\in\Lang_\KB,
  \forall c\in[\frac 12,1)
  \cap\Rat:\quad
  {}\modelsp\phi^c
  \quad\text{and}\quad
  \KB\nvdash\phi\enspace.
  \]
\end{theorem}
\begin{proof}
  We adapt Example~2 from \cite[pp.~344-345]{WalleyFine1979:vomacp} to the present setting.
  Fix $c\in(0,1)\cap\Rat$.
  Let $\Prop:=\{a,b,c,d,e,f,g\}$ and $A=\{1\}$.  Define the set
  \[
  \mathcal{X}:=\{efg, abg, adf, bde, ace, cdg, bcf\}\enspace,
  \]
  where we use the notation $xyz$ for $\{x,y,z\}$.  
  Let $X_1,\dots,X_7$ denote the members of $\mathcal{X}$ (named here as in the order above.)
  Define the single-agent structure $\M$ by
  \begin{eqnarray*}
    \M &:=& (W,R,V,N) \\
    W &:=& \Prop \\
    R_1 &:=& W\times W \\
    V(p) &:=& \{p\} \\
    N_1(x) &:=& \{Z\subseteq W\mid \exists X\in\mathcal{X}: X\subseteq Z\}
  \end{eqnarray*}
  It is easy to verify that $\M$ satisfies (kbc), (kbf), (n), (a), and (kbm).  So
  $\M$ is a finite epistemic neighborhood model.
  For each $x\in W$, let $\hat x$ denote the $\Lang_\KB$-formula
  \[
  \textstyle
  x \land (\bigwedge_{y\in W-\{x\}}\lnot y) \enspace.
  \]
  Extend this to sets of worlds: for each $X\subseteq W$, let $\hat X$ denote
  the formula $\textstyle\bigvee_{x\in X}\hat x$. Note that
  $\textstyle\bigvee_{x\in\emptyset}\hat x=\bot$.
  Now let $\sigma$ be the $\Lang_\KB$-formula
  \begin{eqnarray*}
    \hat a \;\;\land\;\; K_1\hat W &\land&
    \textstyle
    (\bigwedge_{Z\in N_1(a)} B_1\hat Z)
    \;\land 
    \\
    &&
    \textstyle
    (\bigwedge_{Z\in\pow(W)-N_1(a)}\lnot B_1\hat Z) \enspace.
  \end{eqnarray*}
  It is clear that $\M,a\modelsn\sigma$ and therefore that
  $\not\modelsn\lnot\sigma$.  By neighborhood soundness
  (Theorem~\ref{theorem:KB-neighborhood-soundness}), we have
  $\KB\nvdash\lnot\sigma$.

  Define $\mathcal{Y}$ by a cyclic permutation of the letters
  making up the sets in $\mathcal{X}$:  each letter goes
  to the next in the alphabet, except that $g$ goes to $a$.  That is,
  \[
  \mathcal{Y}:=\{fga, bca, beg, cef, bdf, dea, cdg\}\enspace.
  \]
  Let $Y_1,\dots,Y_7$ denote the members of $\mathcal{Y}$ (named here as in the order above.)
  Note that $\mathcal{Y}\cap\mathcal{X}=\emptyset$.  Therefore,
  if $Y\in\mathcal{Y}$, then $Y\notin N_1(x)$ for any $x\in W$.
  In words: no member of $\mathcal{Y}$ is a neighborhood in $\M$.
  Further, we observe that each world in $W$ is a member of exactly three
  sets in $\mathcal{Y}$ and a member of exactly three sets in $\mathcal{X}$.

  We wish to show that $\modelsp\lnot\sigma^c$.
  Note that the $\Lang$-formula $\sigma^c$ is
  \begin{eqnarray*}
    \hat a \;\;\land\;\; [P_1(\hat W)=1] &\land& 
    \textstyle(\bigwedge_{Z\in N_1(a)} [P_1(\hat Z)>c])
    \;\land 
    \\
    && 
    \textstyle(\bigwedge_{Z\in\pow(W)-N_1(a)}\lnot [P_1(\hat Z)>c]) \enspace.
  \end{eqnarray*}
  Toward a contradiction, assume $\N,w\modelsp\sigma^c$.  It follows that
  \begin{eqnarray}
    && P_{1,w}(\semp{\hat W}^\N)=1
    \label{eq:P1weq1}
    \\
    && \forall Z\in N_1(a): P_{1,w}(\semp{\hat Z}^\N)>c
    \label{eq:P1wgtc}
    \\
    && \forall Z\in\pow(W)-N_1(a): P_{1,w}(\semp{\hat Z}^\N)\leq c
    \label{eq:P1wleqc}
  \end{eqnarray}
  By \eqref{eq:P1wgtc} and the fact that each $\hat x$ occurs
  in exactly three $\hat X_i$'s, we have
  \begin{equation}
    \textstyle
    7c<\sum_{i=1}^7P_{1,w}(\semp{\hat X_i}^\N)=3\sum_{x\in W}P_{1,w}(\semp{\hat x}^\N)\enspace.
    \label{eq:incomp:sum1}
  \end{equation}
  By \eqref{eq:P1wleqc} and the fact that each $\hat x$ occurs
  in exactly three $\hat Y_i$'s, we have
  \begin{equation}
    \textstyle
    7c\geq\sum_{i=1}^7P_{1,w}(\semp{\hat Y_i}^N)=3\sum_{x\in W}P_{1,w}(\semp{\hat x}^\N)\enspace.
    \label{eq:incomp:sum2}
  \end{equation}
  But \eqref{eq:incomp:sum1} contradicts \eqref{eq:incomp:sum2}.
  Therefore that we cannot have $\N,w\modelsp\sigma^c$ for any pointed epistemic probability
  model $(\N,w)$.  Hence $\modelsp\lnot\sigma^c$.  And, as we have seen,
  $\KB\nvdash\lnot\sigma$.
\end{proof}

\begin{remark}
  We use the notation of the proof of
  Theorem~\ref{theorem:KB-probability-incompleteness}.  It follows
  from this proof that there can be no epistemic probability model
  $\N=(W,R,V,P)$ based on the same underlying Kripke model $(W,R,V)$
  as $\M$ such that $\N^c=\M$.  For if there were such an $\N$, then
  it would follow from $\M,a\modelsn\sigma$ by
  Theorem~\ref{BettingTheorem} that $\N,a\modelsp\sigma^c$.  But as we
  have seen, no pointed epistemic probability model can satisfy
  $\sigma^c$.

  Examining the model $\M$ further, one may verify that that no
  $X_j\in\mathcal{X}$ is contained in the complement $W-X_i$ of some
  $X_i\in\mathcal{X}$.  It follows that $\M$ satisfies
  \[
    (X\mathbb{I}_1Y)_{i=1}^7,\enspace
    X_1\in N_1(a)\text{, and}\enspace
    \forall i\in\{2,\dots,7\}:W-X_i\notin N_1(a)\enspace,
  \]
  which is the antecedent of property (l), also from
  Definition~\ref{definition:extra-properties}.  However, $\M$ does
  not satisfy
  \[
  \exists j\in\{1,\dots,7\}:Y_j\in N_1(a)\enspace,
  \]
  which is the corresponding consequent of the indicated instance of
  (l).  So we see that if we were to restrict ourselves to the class
  of finite epistemic neighborhood models satisfying this property, we
  would no longer able to use $\M$ as a counterexample to the claim
  ``every epistemic neighborhood model $\M$ (in the class in question)
  gives rise to an epistemic probability model $\N$ on the same
  underlying Kripke model such that $\N^{\frac 12}=\M$.''  Of course
  ruling out $\M$ as a counterexample to this claim does not prove the
  claim.  Nevertheless, it is suggestive of the problem with models
  that do not satisfy (l).  And, as we will see in the proof of
  Theorem~\ref{theorem:KBeq-probability-completeness}, this property
  is key among the sufficient (and necessary) conditions needed to
  guarantee that the claim holds.
\end{remark}

\subsection{Results for the Mid-Threshold Calculus \texorpdfstring{$\KBeq$}{KB.5}}
\label{section:kbeq}

We first show that the $\KB$ scheme (KBM) is redundant in the theory
$\KBeq$.

\begin{proposition}
  \label{prop:KBminus}
  $\KBeqm$ and $\KBeq$ derive the same theorems:
  \[
  \forall\phi\in\Lang_\KB:\quad
  \KBeqm\vdash\varphi \quad\Leftrightarrow\quad \KBeq\vdash\varphi\enspace.
  \]
\end{proposition}
\begin{proof}
  It suffices to prove that the scheme (KBM) is derivable in $\KBeqm$.
  By Definition~\ref{definition:segerberg-notation}, the formula
  $\phi\mathbb{I}_a\psi$ is just
  \begin{equation}
    K_a\bigl(\;
    \underbrace{(\lnot\phi\land\lnot\psi) \lor (\lnot\phi\land\psi)}_{C_0} \lor
    \underbrace{(\phi\land\psi)}_{C_1}
    \;\bigr)\enspace,
    \label{eq:KaPhitoPsi}
  \end{equation}
  where we have explicitly indicated the subformulas $C_0$ and $C_1$
  used in the notation of Definition~\ref{definition:segerberg-notation}.
  Semantically, \eqref{eq:KaPhitoPsi} says that in each of $a$'s accessible worlds,
  $\psi$ is true whenever $\phi$ is true.
  Now reasoning within $\KBeqm$, it follows that
  $K_a(\phi\to\psi)$ is provably equivalent to
  $\phi\mathbb{I}_a\psi$.  But then from
  $K_a(\phi\to\psi)$ and $B_a\phi$, we may derive
  $\phi\mathbb{I}_a\psi$ and $B_a\phi$, from which we may derive
  $B_a\psi$ by (L). Hence (KBM) is derivable.
\end{proof}

\begin{theorem}[$\KBeq$ Neighborhood Soundness and Completeness]
  $\KBeq$ is sound and complete with respect to the class $\Ceq$ of
  mid-threshold neighborhood models:
  \[
  \forall\phi\in\Lang_\KB:\quad
  \KBeq\vdash\phi \quad\Leftrightarrow\quad \Ceq\modelsn\phi \enspace.
  \]
  Further, every $\phi\in\Lang_\KB$ that is satisfiable at a pointed
  mid-threshold neighborhood model is satisfiable at a finite
  pointed mid-threshold neighborhood model.
\end{theorem}
\begin{proof}
  Soundness is by induction on the length of derivation.  Most cases
  are as in the proof of
  Theorem~\ref{theorem:KB-neighborhood-completeness}.  We only need
  consider the remaining axiom schemes.
  \begin{itemize}
  \item Scheme (D) is valid: $\modelsn B_a\phi\to \check B_a\phi$.

    Suppose $\M,w\modelsn B_a\phi$. This means
    $[w]_a\cap\semn\phi\in N_a(w)$.  By (d), 
    \[
    [w]_a\cap\semn{\lnot\psi}=[w]_a-\semn\phi=[w]_a-([w]_a\cap\semn\phi)\notin
    N_a(w)\enspace.
    \]
    But this is what it means to have $\M,w\modelsn\check B_a\phi$.

  \item Scheme (SC) is valid: $\modelsn \check B_a\phi \land \check
    K_a(\lnot\phi\land\psi) \to B_a(\phi\lor\psi)$.

    Suppose $\M,w\modelsn\check B_a\phi$ and $\M,w\modelsn \check
    K_a(\lnot\phi\land\psi)$.  It follows that
    \[
    [w]_a-([w]_a\cap\semn{\phi})=[w]_a\cap\semn{\lnot\phi}\notin
    N_a(w)
    \]
    and that there exists $v\in[w]_a$ satisfying
    $\M,v\models\lnot\phi\land\psi$.  But then
    $[w]_a\cap\semn{\phi\lor\psi}\supsetneq[w]_a\cap\semn{\phi}$ and
    therefore $[w]_a\cap\semn{\phi\lor\psi}\in N_a(w)$ by (sc). Hence
    $\M,w\models B_a(\phi\lor\psi)$.

  \item Scheme (L) is valid:
    \[
    \modelsn \textstyle [(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m
    \land B_a\phi_1 \land \bigwedge_{i=2}^m \check B_a\phi_i] \to
    \bigvee_{i=1}^m B_a\psi_i\enspace.
    \]

    Suppose $(\M,w)$ satisfies the antecedent of scheme (L).  It
    follows that each $v\in[w]_a$ satisfies just as many $\phi_i$'s as
    $\psi_i$'s, that $[w]_a\cap\semn{\psi_1}\in N_a(w)$, and that
    $[w]_a-\semn{\phi_k}\notin N_a(w)$ for each $k\in\{2,\dots,m\}$.
    Hence
    \[
    [w]_a\cap\semn{\phi_1},\dots,[w]_a\cap\semn{\phi_m}\mathbb{I}_a
    [w]_a\cap\semn{\psi_1},\dots, [w]_a\cap\semn{\psi_m}\enspace,
    \]
    from which it follows by (l) that $[w]_a\cap\semn{\psi_j}\in
    N_a(w)$ for some $j\in\{1,\dots,m\}$.  Hence $\M,w\modelsn B_a\psi_j$,
    and thus $\M,w\modelsn\bigvee_{i=1}^m B_a\psi_i$.
  \end{itemize}
  Soundness has been proved.  

  Completeness is as in the proof of Theorem~\ref{theorem:KB-neighborhood-completeness},
  except that all relevant definitions and results that make use of derivability are changed
  so as to take derivability with respect to $\KBeq$.  All that needs
  to be shown is that the model $\M$ defined as in the proof of
  Theorem~\ref{theorem:KB-neighborhood-completeness} is a mid-threshold
  neighborhood model; the rest of the argument is as in that proof,
  \emph{mutatis mutandis}.  Most of the properties of $\M$ are shown
  in that proof.  What remains is for us to show that $\M$ also satisfies
  (d), (sc), and (l).
  \begin{itemize}
  \item For (d), we must show $X\in N_a(\Gamma)$ implies
    $X'\notin N_a(\Gamma)$, where 
    $X\subseteq[\Gamma]_a$ and
    $X':=[\Gamma]_a-X$.  Toward a contradiction, assume
    $X,X'\in N_a(\Gamma)$.
    This means $B_aX,B_aX'\in N_a(\Gamma)$.  Since $X,X'\in L'_0$,
    we have $X\to\lnot X'\in L'$ and therefore
    $K_a(X\to\lnot X')\in L^+$.  But
    $X\cap X'=\emptyset$, so it follows by maximal consistency that
    $K_a(X\to\lnot X')\in\Gamma$.  By (M), maximal consistency,
    and the fact that $\lnot X'\in L'$ and hence $B_a\lnot X'\in L^+$, we obtain
    $B_a\lnot X'\in\Gamma$.  But since $B_a X'\in\Gamma$ and
    $X'\in L'$ implies $\lnot B_a\lnot X'\in L^+$, it follows by (D) and
    maximal consistency that $\lnot B_a\lnot X'\in\Gamma$, contradicting
    the consistency of $\Gamma$.

  \item For (sc), we must show $X':=[\Gamma]_a-X\notin N_a(\Gamma)$ and
    $X\subsetneq Y\subseteq[\Gamma]_a$ together imply $Y\in
    N_a(\Gamma)$.  So suppose we have the antecedent of this implication.
    It follows that $B_aX'\notin\Gamma$ and therefore $\lnot B_aX'\in\Gamma$
    by the definition of $L^+$ and maximal consistency.  Notice that
    $\KBeq\vdash X'\leftrightarrow\lnot X$ because $X'=[\Gamma]_a-X$
    and therefore we have by Proposition~\ref{prop:KBgt-derivables}\eqref{derivables:Bimp}
    (and the fact that $\KBeq$ extends $\KBgt$) that $\check B_aX\in\Gamma$.
    Further, $\check K_a(\lnot X\land Y)\in L^+$, so since $X\subsetneq Y\subseteq[\Gamma]_a$,
    we have $\check K_a(\lnot X\land Y)\in\Gamma$ by maximal consistency.  Further,
    since $B_a(X\lor Y)\in L^+$, it follows by (SC) and maximal consistency that
    $B_a(X\lor Y)\in\Gamma$.  Since $K_a(X\lor Y\to Y)\in L^+$, we have
    by $X\subsetneq Y\subseteq[\Gamma]_a$ and maximal consistency that
    $K_a(X\lor Y\to Y)\in\Gamma$.  Hence by maximal consistency and (KBM),
    we have $B_aY\in\Gamma$ and therefore $Y\in N_a(\Gamma)$.

  \item For (l), we must show $(X_i\mathbb{I}_aY_i)_{i=1}^m$,
    $X_1\in N_a(\Gamma)$, and $[\Gamma]_a-X_i\notin N_a(\Gamma)$
    for all $i\neq 1$ together imply that $Y_j\in N_a(\Gamma)$
    for some $j$.  Suppose we have the antecedent of this implication.
    Then $B_aX_1\in\Gamma$.  Further, as in the argument for (sc), our
    assumptions imply $\check B_aX_i\in\Gamma$ for all $i\neq 1$.
    By our argument for (wl), we have $(X_i\mathbb{I}_aY_i)_{i=1}^m\in\Gamma$.
    Since $\bigvee_{i=1}^mY_i\in L^+$, it follows by (L) and maximal consistency
    that $\bigvee_{i=1}^mY_i\in\Gamma$ and therefore by maximal consistency
    that $Y_j\in\Gamma$ for some $j$.  But then $Y_j\in N_a(\Gamma)$.
    \qedhere
  \end{itemize}
\end{proof}

We make use of the following theorem due to Scott \cite{Sco64:JMP} in
formulating Lenzen's proof of probability completeness for $\KBeq$
(Theorem~\ref{theorem:KBeq-probability-completeness}).

\begin{theorem}[{\cite[Theorem 1.2]{Sco64:JMP}}]
  Let $X$ be a finite, rational, symmetric subset of
  the vector space $L$ of all real-valued functions defined on a finite set 
  $S$.\footnote{So $L$ is the $S$-dimensional vector space.
  To say $x:S\to\mathbb{R}$ is \emph{rational} means that all of its
  coordinates (i.e., values) are rational numbers.  
  To say $X\subseteq L$ is \emph{rational} means every $x\in X$ is rational.
  To say $X$ is \emph{symmetric} means that $X=-X:=\{-x\mid x\in X\}$.}
  For each $N\subseteq X$,
  there exists a linear functional $\varphi$ on $L$ such that
  \[
  N = \{x\in X\mid \varphi(x)\geq 0\}
  \]
  if and only if the following conditions are satisfied:
  \begin{itemize}
  \item for each $x\in X$, we have $x\in N$ or $-x\in N$; and

  \item for each integer $n\geq 0$ and $x_0,\dots,x_n\in N$, we have
  \[
  \sum_{i=0}^n x_i = 0
  \quad\Rightarrow\quad
  -x_0\in N\enspace.
  \]
  \end{itemize}
\end{theorem}

That $\KBeq$ is sound and complete for the probabilistic semantics
with threshold $c=\frac 12$ was originally proved by Lenzen
\cite{Lenzen1980:gwuw}.

\begin{theorem}[Due to \cite{Lenzen1980:gwuw}; $\KBeq$
  Probability Soundness and Completeness]
  \label{theorem:KBeq-probability-completeness}\label{theorem:lenzen}
  $\KBeq$ is sound and complete for threshold $\frac12$ with respect to the class of epistemic
  probability models:
  \[
  \textstyle 
  \forall\phi\in\Lang_\KB:\quad
  \KBeq\vdash\phi
   \quad\Leftrightarrow\quad
  {}\modelsp\phi^{\frac 12} \enspace.
  \]
\end{theorem}
\begin{proof}
  Soundness is by Propositions~\ref{prop:knowledge} and \ref{prop:belief}.

  For completeness, we will show that every finite mid-threshold neighborhood model can be
  extended to an epistemic probability model.

  Let $\M = (W,R,V,N)$ be a mid-threshold neighborhood model for agent 
  set $A$ and proposition set $\Prop$. 
  Assume that $W$ is finite. Let $a \in A$ be some agent and let $w \in W$. 
  We will construct a probability measure $P_{a,w}$ on $\pow([w]_a)$ satisfying full support. 
  From these $P_{a,w}$ a probability function $P_a$ on $W$ can be defined as follows. 
  Let $n = | \{ [w]_a \mid w \in W \}|$, i.e., let $n$ be the size of the partition 
  generated by $R_a$. Then $P_a$ defined by $P_a(w) = \frac{P_{a,w}(w)}{n}$ is a probability 
  measure on $W$ satisfying full support. 

  Let $[w]_a = \{ w_1, \ldots, w_n \}$.  For convenience in what
  follows, we will often conflate the function $N$ with its value
  $N_a(w)$ for agent $a$ at world $w$; this ought not cause confusion
  because every mention of the function $N$ in this proof will only be
  to mention its value on $(a,w)$. Consider the $n$-dimensional vector
  space $\Ree^n$, with the usual operations for vector addition and
  scalar multiplication.  Let $X \subseteq [w]_a$. Then $X$ is mapped
  to a vector by
  \[
  V(X) = (\Psi_X(w_1), \ldots, \Psi_X(w_n))\enspace,
  \]
  where $\Psi_X$ is the decision function for $X$ given by $\Psi_X(w)
  = 1$ if $w \in X$, $\Psi_X(w) = 0$ otherwise. Note that
  $V(\emptyset) = 0^n$ and $V([w]_a) = 1^n$.  Let us write $[w]_a - X$
  as $\overline{X}$.  Let
  \begin{eqnarray*} 
    M_1 & = & \{ V(X) \in \Ree^n \mid X \subseteq [w]_a \}, \\
    M_2 & = & \{ (V(X) - V(\overline{X})) \in \Ree^n \mid X \subseteq [w]_a, 
                  \overline{X} \notin N \} \\
    M & = & M_1 \cup M_2 \\
    K & = & M \cup M^-, 
  \end{eqnarray*}
  where $M^- =  \{ -r \mid r \in M \} = \{ -1 \cdot r \mid r \in M \}$.

  Note that $K$ is finite, $K$ is symmetric by definition (meaning:
  $K = K^-$), and $K$ is rational (all vector values are rational numbers). 
  We can apply a theorem of \cite{Sco64:JMP} (Theorem 1.2): there is a real-valued
  linear function $\phi$ on $\Ree^n$ with ($\phi(v) \geq 0$ iff $v \in M$) iff 
  the following two conditions hold: 
  \begin{enumerate} 
  \item $\forall r \in K: r \in M \lor -r \in M$. 
  \item $\forall m \geq 1 \ \forall r_1, \ldots, r_m \in K:$ \\
   $\text{ if } \sum_{i=1}^m r_i = 0^n \text{ then } 
     r_1, \ldots, r_{m-1} \in M \text{ implies } -r_m \in M$. 
  \end{enumerate}
  It follows immediately from the definition of $M$ that condition (1) holds. 
  For condition (2), assume $r_m \in K-M$. Then $r_m = -r$ for some $r \in M$, 
  and therefore $-r \in M$, and done. 
  
  Now assume that $r_m \in M$. We have to show that $\sum_{i=1}^m r_i =
  0^n$ and $r_1, \ldots, r_{m} \in M$ together imply $-r_m \in M$.
  
  Split the $r_j$ as to whether they are from $M_1$ or $M_2$. Without loss of 
  generality we may assume there is $i$ with $\{ r_1, \ldots, r_i \} \subseteq M_1$ 
  and $\{ r_{i+1}, \ldots, r_m \} \subseteq M_2$. Each $r_j$ corresponds to a set 
  $X_i \subseteq [w]_a$ via $r_j = V(X_j)$ for $r_j \in M_1$, and $r_j = V(X_j) - 
  V(\overline{X_j})$ for $r_j \in M_2$. 
  
  Suppose for some vector $r$ in $\{ r_1, \ldots, r_i \}$ we have $r \neq 0^n$. Then 
  \[
    \sum \{ r_1, \ldots, r_i \} = r^* = (r^*_1, \ldots, r^*_n),
  \]
  with all components $\geq 0$, and some $r^*_k > 0$. 
  
  From $\sum \{ r_1, \ldots, r_i \} + \sum \{ r_{i+1}, \ldots, r_m \}   = 0^n$ we get 
  that $\sum \{ r_{i+1}, \ldots, r_m \} = -r^*$. 
  By the definition of $M_2$ this means that  
  \[
    \sum_{j= i+1}^m (V(X_j) - V(\overline{X_j}) = -r^*, 
  \]
  so all components are $\leq 0$, and $-r^*_k < 0$.  So any $v \in
  [w]_a$ occurs at most as often in one of the $X_{i+1}, \ldots, X_m$ as
  in one of the complements $\overline{X_{i+1}},\ldots, \overline{X_m}$.
  Moreover, $w_k$ occurs less often in one of the $X_{i+1}, \ldots, X_m$
  than in one of the complements $\overline{X_{i+1}},\ldots,
  \overline{X_m}$. Without loss of generality, assume $w_k \notin
  X_{i+1}$. Then:
  \[
   X_{i+1} \cup \{ w_k \}, \ldots, X_m \mathbb{I}_a \overline{X_{i+1}},\ldots, \overline{X_m}.
  \]
  From (l) and the fact that $\overline{X_{i+1}} \notin N,\ldots,
  \overline{X_m} \notin N$ it follows that $X_{i+1} \cup \{ w_k \}
  \notin N$. But now we have $X_{i+1} \subsetneq X_{i+1} \cup \{ w_k \} \notin N$
  and $\overline{X_{i+1}} \notin N$, and contradiction with (sc).
  
  So we can assume $r_i \in M_2$ for all $i$ with $1 \leq i \leq m$. Therefore, we have, 
  by definition of $M_2$: 
  \[
  \sum_{i=1}^m V(X_i) - V(\overline{X_i}) = 0^n. 
  \]
  This means, by definition of $V$, that for each $v \in [a]_w$ the following holds: 
  \[
   \sum_{i=1}^m \Psi_{X_i}(v) - \Psi_{\overline{X_i}}(v) = 0. 
  \]
  In other words, each $v \in [a]_w$ occurs exactly as often in one of the $X_i$ as in one 
  of the complements: 
  \[
    X_1, \ldots, X_m \mathbb{E}_a  \overline{X_1}, \ldots, \overline{X_m}. 
  \]
  Since none of the complements is in $N$, it follows from this and (l) that $X_m \notin N$. 
  Therefore $-r_m = V(\overline{X}_m - V(X_m) \in M_2$. This proves (2). 
  
  The conditions of Scott's theorem are fulfilled, so there is a real-valued
  linear function $\phi$ on $\Ree^n$ with $\phi(v) \geq 0$ iff $v \in M$.
  Suppose $\phi(V([w]_a) = \phi(1^n) = 0$. Since $\phi$ is linear, $\phi(0^n) = 0$.
  This gives, by linearity of $\phi$ again:  $\phi(0^n - 1^n) =  \phi(0^n) - \phi(1^n) = 0$, 
  and therefore, by the conditions on $\phi$: $0^n - 1^n = -1^n \in M$. Since 
  $-1^n \notin M_1$ this gives $-1^n \in M_2$, and it follows by the definition of $M_2$ 
  that $[w]_a \notin N$. Contradiction with (n). 

  We may conclude that $\phi(1^n) > 0$, and we can define our probability measure 
  $P_{a,w}$ on $\pow ([w]_a)$ by means of 
  \[
     P_{a,w}(X) = \frac{\phi(V(X))}{\phi(1^n)}.
  \]
  We still have to show that the value of this is $ P_{a,w}(X) > \frac{1}{2}$ iff $ X \in N$. 

  Suppose $\overline{X} \notin N$. Then, by definition of $M_n$, $V(X) - V(\overline{X}) \in M_2$, 
  and by the properties of $\phi$,  $\phi(V(X) - V(\overline{X})) \geq 0$. 
  Since $V(X) - V(\overline{X}) = 2V(X) - V([w]_a)$, we have by linearity of $\phi$: 
  \[
    2 \phi(V(X)) - \phi(V([w]_a)) \geq 0, 
  \]
  and therefore: 
  \[
     2 \phi(V(X)) \geq \phi(1^n).
  \]
  It follows that $P_{a,w} (X) \geq \frac{1}{2}$. 
  
  Suppose $\overline{X} \in N$. Then $V(X) - V(\overline{X}) \notin M_2$, and by definition of $M$, 
  also $V(X) - V(\overline{X}) \notin M$. This means $\phi(V(X) - V(\overline{X}) < 0$, 
  and by reasoning similar to the above we derive that $2 \phi(V(X)) < \phi(1^n)$, 
  from which it follows that  $P_{a,w} (X) < \frac{1}{2}$. 

  Putting these two implications together, we get: $\overline{X}
  \notin N$ iff $P_{a,w} (X) \geq \frac{1}{2}$.  From this, by
  substitution: $X \notin N$ iff $P_{a,w} (\overline{X}) \geq
  \frac{1}{2}$ iff $P_{a,w} (X) \leq \frac{1}{2}$. From this, by
  contraposition:
\[
    X \in N \text{ iff } P_{a,w} (X) > \frac{1}{2}. 
\]
The full support property of $P_{a,w}$ now follows easily from the above plus (sc). 
\end{proof}

\section{Conclusion} 
\label{SectionFRW}

\paragraph{Summary}

We have provided a study of the modal logic of certain knowledge and
``betting'' belief (i.e., belief of events greater than a rational
probability $c\geq\frac 12$).  Our study included both a probabilistic
semantics and a neighborhood semantics with a new epistemic twist.  We
formulated Lenzen's proof that $\KBeq$ is the logic of threshold
$c=\frac 12$.  We also proved completeness with respect to the new
neighborhood semantics.  This proof made use of an ingenious
neighborhood-completeness trick due to Segerberg (``logical
finiteness''), which we extended in a way that ensures all
epistemically possible propositions are definable using finitely many
formulas that are all candidates for agent belief in the canonical
model. Moving to a broder take on our results, we believe that our
work provides connections between probabilistic and neighborhood
semantics that may present interesting opportunities for future
cross-disciplinary work.

\paragraph{Open Questions for Future Work}

\begin{enumerate}
\item
The main open question is the following: given a ``high-threshold''
$c\in(\frac 12,1)\cap\Rat$, find the exact extension $\KB^c$ of $\KB$ that is
probabilistically sound and complete for threshold $c$ with respect to
the class of epistemic probability models, in the sense that we would have:
\[
\textstyle 
\forall\phi\in\Lang_\KB:\quad
\KB^c\vdash\phi
\quad\Leftrightarrow\quad
{}\modelsp\phi^c \enspace.
\]
Observing that (SC) and (L) are not valid for high-thresholds $c>\frac
12$, we conjecture that what is required are threshold-specific
variants of (SC) and (L) that will together guarantee probability
soundness and completeness.  Toward this end, we suggest the following
schemes as a starting point:
\begin{center}
  \renewcommand{\arraystretch}{1.3}
  \begin{tabular}[t]{cl}
    (SC$_0^s$) &
    $\textstyle(\check K_a\phi_0\land
    \bigwedge_{i=1}^s\check B_a\phi_i\land
    \bigwedge_{i\neq j=0}^s K_a(\phi_i\to\lnot \phi_j))\to 
    B_a(\bigvee_{i=0}^s \phi_i)$
    \\
    (SC$_1^s$) &
    $\textstyle(\bigwedge_{i=1}^s\check B_a\phi_i\land
    \bigwedge_{i\neq j=1}^s K_a(\phi_i\to\lnot \phi_j))
    \to B_a(\bigvee_{i=1}^s \phi_i)$
    \\
    (WL) &
    $\textstyle [(\phi_i\mathbb{I}_a\psi_i)_{i=1}^m
    \land \bigwedge_{i=1}^m B_a\phi_i] \to
    \bigvee_{i=1}^m B_a\psi_i$
  \end{tabular}
\end{center}
Observe that (SC) is just (SC$_0^1$).  Further, if we define
$s':=c/(1-c)$ and $s:=\text{ceiling}(s')$, then scheme (SC$_0^s$) is
probabilistically sound if $s=s'$ and scheme (SC$_1^s$) is
probabilistically sound if $s\neq s'$.  The reasoning for this is as
follows: $s'$ tells us the number of $(1-c)$'s that divide $c$.  In
particular, recall from Lemma~\ref{lemma:dual} that the probabilistic
interpretation of $\check B_a\phi$ is that $\phi$ is assigned
probability at least $1-c$.  Therefore, if we have $s$ disjoint
propositions that each have probability at least $1-c$, then the
probability of their disjunction will have probability
$s\cdot(1-c)\geq c$.  This inequality is strict if $s\neq s'$ and is
in fact an equality if $s=s'$.  Therefore, in the case $s\neq s'$,
scheme (SC$_1^s$) is sound: $s$ disjoint propositions each having
probability $1-c$ together sum to a probability exceeding the
threshold $c$.  And in case $s=s'$, scheme (SC$_0^s$) is sound: $s$
disjoint propositions each having probability $1-c$ together sum to a
probability that equals $c$, so adding some additional probability
from another disjoint proposition $\phi_0$ will yield a disjunction whose
probability again exceeds $c$.  In either case, exceeding probability
$c$ is what we equate with belief, so soundness is proved.  We note
that scheme (WL) can be shown to be sound by adapting the proof
Proposition~\ref{prop:belief}\eqref{item:B-Len}.  The epistemic
neighborhood model versions of (SC$_0^s$), (SC$_1^s$), and (WL) are:
\begin{description}
\item[(sc$_0^s$)] $\forall X_1,\dots,X_s,Y\subseteq[w]_a$:
  if $[w]_a-X_1,\dots,[w]_a-X_s\notin N_a(w)$,
  the $X_i$'s are pairwise disjoint, and $Y\supsetneq\bigcup_{i=1}^sX_i$,
  then $Y\in N_a(w)$.

\item[(sc$_1^s$)] $\forall X_1,\dots,X_s\subseteq[w]_a$: if
  $[w]_a-X_1,\dots,[w]_a-X_s\notin N_a(w)$ and the $X_i$'s are
  pairwise disjoint, then $\bigcup_{i=1}^sX_i\in N_a(w)$.
 
\item[(wl)] $\forall m\in\Int^+,\forall
  X_1,\dots,X_m,Y_1,\dots,Y_m\subseteq[w]_a:$
  \[
  \renewcommand{\arraystretch}{1.3}
  \begin{array}{ll}
    \text{if }
    &
    \begin{array}[t]{l}
      X_1,\dots,X_m\mathbb{I}_aY_1,\dots,Y_m\quad\text{and}
      \\
      \forall i\in\{1,\dots,m\}:
      X_i\in N_a(w) \enspace\text{,}
    \end{array}
    \\
    \text{then }
    &
    \exists j\in\{1,\dots,m\}: Y_j\in N_a(w)\enspace\text{.}
  \end{array}
  \]
\end{description}
If $M$ is an epistemic neighborhood model, then a slight modification
of the proof of property (wl) in Lemma~\ref{lemma:correctness} shows
that $M^c$ satisfies (wl).  We presume that an adaptation of the proof
for the proof of property (sc) in the same lemma will show that $M^c$
satisfies (sc$_0^s$) if $s=s'$ and (sc$_1^s$) if $s\neq s'$.

We remark that (WL) is not threshold-specific, though it is sound for
all high-thresholds $c>\frac 12$.  We suspect that a
threshold-specific variant may be required in order to adapt Lenzen's
proof of $\KBeq$ probability soundness and completeness for threshold
$c=\frac 12$ (Theorem~\ref{theorem:lenzen}).  In particular, using
terminology and notation from that proof: take $c=p/q$ and redefine
set $M_2$ by setting
\[
M_2:= \{((q-p) V(X)- p V(\overline X)\in\mathbb{R}^n\mid
X\subseteq[w]_a,\overline{X}\notin N\}\enspace.
\]
Observe that we have
\[
(q-p) V(X)- p V(\overline X)) =
qV(X)-pV([w]_a)\enspace.
\]
So if we have an appropriate linear functional $\phi$ and
$\overline{X}\notin N$, then
$q\cdot\phi(V(X))-p\cdot\phi(V([w]_a))\geq 0$.  Since
$\phi(V([w]_a))=1$, it follows that $P_{a,w}(X)\geq p/q=c$.  The
argument for the case $\overline{X}\in N$ is similar.  However, we
note that the existence of $\phi$ seems to require a
threshold-specific version of (L) and it is not clear how this might
come about so as to follow the logic of the proof of
Theorem~\ref{theorem:lenzen}.  Perhaps some variant of (WL) that takes
into account the specific values of $p$ and $q$ is required.

\item Another open question is the exact relationship between
  Segerberg's comparitive operator $\phi\geq\psi$ (``$\phi$ is at
  least as probable as $\psi$'') \cite{Segerberg1971:qpiams} and
  betting belief.  $B_a\phi$ is equivalent to $\phi>\lnot\phi$, where
  the strict inequality $>$ is defined in the natural way.  However,
  it is not clear how the logics of these operators are related.

\item Yet another direction is the extension of our work to Bayesian
  updating.  Given a pointed epistemic probability model $(\M,w)$
  satisfying $\phi$, let
\[
\M[\phi]=(W[\phi],R[\phi],V[\phi],P[\phi])
\]
be defined by
\begin{eqnarray*}
  W[\phi] &:=& \semp{\phi}^\M \\
  R[\phi]_a &:=& R_a \cap (W[\phi]\times W[\phi]) \\
  V[\phi](w) &:=& V(w) \text{ for } w\in W[\phi] \\
  P[\phi]_a(w) &:=&
    \frac{ P_a(w) }{ P_a(\semp{\phi}^\M) }
\end{eqnarray*}
It is not difficult to see that $\M[\phi]$ is an epistemic probability model and
\[
P[\phi]_a(X) =
\frac{ P_a(X\cap\semp{\phi}^\M) }{ P_a(\semp{\phi}^\M) } = 
P[\phi]_a(X|\semp{\phi}^\M)\enspace,
\]
where the value on the right is the probability of $X$ conditional on
$\semp{\phi}^\M$.  It would be interesting to investigate the analog
of this operation in epistemic neighborhood models.  The operation may
also have a close relationship with the study of updates in
Probabilistic Dynamic Epistemic Logic
\cite{BenGerKoo09:SL,BalSme08:Synt}.
\end{enumerate}

\paragraph{Acknowledgements} 

Thanks to Alexandru Baltag, Jim Delgrande, Andreas Herzig, and Sonja Smets for 
helpful comments and pointers to the literature. 

\bibliographystyle{alpha}
\bibliography{BEPL}  

\end{document} 
